<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><!--This file has been created with freemind2html.xsl--><head><title>微服务设计</title><link rel="stylesheet" href="微服务设计.html_files/freemind2html.css" type="text/css" /><meta content="FreeMind-XSL Stylesheet (see: http://freemind-xsl.dev.slash-me.net/ for details)" name="generator" /><script type="text/javascript" src="微服务设计.html_files/freemind2html.js">  
	</script><script type="text/javascript"><!--
          
               function toggle(id)
               {
                   div_el = document.getElementById(id);
                   img_el = document.getElementById('img'+id);
                   if (div_el.style.display != 'none')
                   {
          
					
                      div_el.style.display='none';
                      img_el.src = '微服务设计.html_files/show.png';
          
                   }
                   else
                   {
          
                      div_el.style.display='block';
                      img_el.src = '微服务设计.html_files/hide.png';
          
                   };
               };
          
          --></script></head><body><h1>微服务设计</h1><div style="width:96%;  padding:2%;  margin-bottom:10px;  border: 0px;  text-align:center;  vertical-align:center;"><img src="微服务设计.html_files/image.png" style="margin-bottom:10px; &#9;border: 0px; &#9;text-align:center; &#9;vertical-align:center;" alt="Imagemap" usemap="#fm_imagemap" /></div><map id="fm_imagemap" name="fm_imagemap"><area shape="rect" href="#FMID_1336903642FM" alt="微服务设计" title="微服务设计" coords="859,1625,970,1685" /><area shape="rect" href="#FMID_1904777781FM" alt="10康威定律与系统设计" title="10康威定律与系统设计" coords="988,93,1164,120" /><area shape="rect" href="#FMID_994074167FM" alt="任何组织设计一套系统，所交付的设计方案再结构上都与该组织的沟通结构保持一致" title="任何组织设计一套系统，所交付的设计方案再结构上都与该组织的沟通结构保持一致" coords="1182,0,1737,24" /><area shape="rect" href="#FMID_31586904FM" alt="证据" title="证据" coords="1182,61,1222,85" /><area shape="rect" href="#FMID_650490088FM" alt="Window vista" title="Window vista" coords="1240,26,1325,48" /><area shape="rect" href="#FMID_1264837804FM" alt="Netflix" title="Netflix" coords="1240,50,1284,72" /><area shape="rect" href="#FMID_1719575068FM" alt="Amazon" title="Amazon" coords="1240,74,1296,96" /><area shape="rect" href="#FMID_1657698243FM" alt="RealEstate.com.au" title="RealEstate.com.au" coords="1240,98,1359,120" /><area shape="rect" href="#FMID_48810268FM" alt="服务所有权" title="服务所有权" coords="1182,143,1265,167" /><area shape="rect" href="#FMID_213231907FM" alt="共享服务" title="共享服务" coords="1283,122,1344,144" /><area shape="rect" href="#FMID_41905385FM" alt="内部开源" title="内部开源" coords="1283,156,1344,178" /><area shape="rect" href="#FMID_133753407FM" alt="守护者（核心提交）" title="守护者（核心提交）" coords="1362,146,1471,166" /><area shape="rect" href="#FMID_1498664188FM" alt="工具" title="工具" coords="1362,168,1394,188" /><area shape="rect" href="#FMID_1373991068FM" alt="限界上下文与团队结构" title="限界上下文与团队结构" coords="1182,190,1338,214" /><area shape="rect" href="#FMID_1956673705FM" alt="11规模化微服务" title="11规模化微服务" coords="988,216,1115,243" /><area shape="rect" href="#FMID_1217824534FM" alt="12总结" title="12总结" coords="780,576,841,603" /><area shape="rect" href="#FMID_557673381FM" alt="微服务原则" title="微服务原则" coords="679,554,762,578" /><area shape="rect" href="#FMID_734234139FM" alt="隐藏内部实现细节" title="隐藏内部实现细节" coords="549,507,661,529" /><area shape="rect" href="#FMID_1535719000FM" alt="让一切去中心化" title="让一切去中心化" coords="562,531,661,553" /><area shape="rect" href="#FMID_1669605139FM" alt="可独立部署" title="可独立部署" coords="587,555,661,577" /><area shape="rect" href="#FMID_488911153FM" alt="隔离失败" title="隔离失败" coords="600,579,661,601" /><area shape="rect" href="#FMID_1100862373FM" alt="高度可观察" title="高度可观察" coords="587,603,661,625" /><area shape="rect" href="#FMID_1800243548FM" alt="什么时候不使用微服务" title="什么时候不使用微服务" coords="606,638,762,662" /><area shape="rect" href="#FMID_1873741037FM" alt="不了解领域，请先花时间俩姐，尝试识别清晰的模块边界" title="不了解领域，请先花时间俩姐，尝试识别清晰的模块边界" coords="260,627,588,649" /><area shape="rect" href="#FMID_368165870FM" alt="长实现构建单块系统，稳定后进行拆分" title="长实现构建单块系统，稳定后进行拆分" coords="361,651,588,673" /><area shape="rect" href="#FMID_1892449628FM" alt="1微服务" title="1微服务" coords="988,288,1057,315" /><area shape="rect" href="#FMID_1473636057FM" alt="什么是微服务" title="什么是微服务" coords="1075,288,1173,312" /><area shape="rect" href="#FMID_894765740FM" alt="专注做一件事" title="专注做一件事" coords="1191,245,1278,267" /><area shape="rect" href="#FMID_91183795FM" alt="自治性" title="自治性" coords="1191,301,1240,323" /><area shape="rect" href="#FMID_535045090FM" alt="一个服务就是一个单独的实体" title="一个服务就是一个单独的实体" coords="1258,269,1410,289" /><area shape="rect" href="#FMID_858895900FM" alt="服务间彼此独立修改" title="服务间彼此独立修改" coords="1258,291,1367,311" /><area shape="rect" href="#FMID_873223536FM" alt="暴露API，服务间通过API通信" title="暴露API，服务间通过API通信" coords="1258,313,1410,333" /><area shape="rect" href="#FMID_1453473322FM" alt="黄金法则：你是否能够修改一个服务并对其进行部署，而不影响其他任何服务" title="黄金法则：你是否能够修改一个服务并对其进行部署，而不影响其他任何服务" coords="1258,335,1657,355" /><area shape="rect" href="#FMID_72331200FM" alt="3如何构建服务" title="3如何构建服务" coords="988,471,1106,498" /><area shape="rect" href="#FMID_1569440324FM" alt="好服务标准" title="好服务标准" coords="1124,368,1207,392" /><area shape="rect" href="#FMID_156349309FM" alt="松耦合" title="松耦合" coords="1225,357,1274,379" /><area shape="rect" href="#FMID_347757684FM" alt="服务可以独立构建 修改 部署而不需要修改其他系统" title="服务可以独立构建 修改 部署而不需要修改其他系统" coords="1292,357,1548,377" /><area shape="rect" href="#FMID_1216589565FM" alt="高内聚" title="高内聚" coords="1225,381,1274,403" /><area shape="rect" href="#FMID_835804608FM" alt="相关的行为聚集到一起" title="相关的行为聚集到一起" coords="1292,381,1411,401" /><area shape="rect" href="#FMID_1878036442FM" alt="限界上下文：一个显示边界限定的特定职责from《领域驱动设计》Eric Evan ..." title="限界上下文：一个显示边界限定的特定职责from《领域驱动设计》Eric Evan ..." coords="1124,484,1641,508" /><area shape="rect" href="#FMID_1243768850FM" alt="分为两部分" title="分为两部分" coords="1659,415,1733,437" /><area shape="rect" href="#FMID_900824240FM" alt="不需要与外界通信" title="不需要与外界通信" coords="1751,405,1849,425" /><area shape="rect" href="#FMID_752488689FM" alt="需要与外界通信" title="需要与外界通信" coords="1751,427,1838,447" /><area shape="rect" href="#FMID_269308874FM" alt="共享的隐藏模型，共享特定的模型" title="共享的隐藏模型，共享特定的模型" coords="1659,449,1860,471" /><area shape="rect" href="#FMID_372753787FM" alt="模块与服务" title="模块与服务" coords="1659,473,1733,495" /><area shape="rect" href="#FMID_1828135843FM" alt="服务边界和限界上下文保持一致" title="服务边界和限界上下文保持一致" coords="1751,473,1914,493" /><area shape="rect" href="#FMID_1858839795FM" alt="过早划分" title="过早划分" coords="1659,507,1720,529" /><area shape="rect" href="#FMID_1564747068FM" alt="将已有代码库划分为微服务，要比从头开始构建微服务简单的多，避免过早划分" title="将已有代码库划分为微服务，要比从头开始构建微服务简单的多，避免过早划分" coords="1738,497,2130,517" /><area shape="rect" href="#FMID_910616949FM" alt="划分原则" title="划分原则" coords="1738,519,1792,539" /><area shape="rect" href="#FMID_1165493287FM" alt="业务功能" title="业务功能" coords="1659,541,1720,563" /><area shape="rect" href="#FMID_105982159FM" alt="考虑组织内限界上下文时，不应该从共享数据的角度考虑，应该从这些上下文提供的功能来 ..." title="考虑组织内限界上下文时，不应该从共享数据的角度考虑，应该从这些上下文提供的功能来 ..." coords="1738,541,2206,561" /><area shape="rect" href="#FMID_1264608823FM" alt="逐步划分上下文" title="逐步划分上下文" coords="1659,565,1758,587" /><area shape="rect" href="#FMID_508836504FM" alt="根据企业内部组织结构进行划分上下文，因为组织结构和软件架构会互相影响" title="根据企业内部组织结构进行划分上下文，因为组织结构和软件架构会互相影响" coords="1776,565,2157,585" /><area shape="rect" href="#FMID_87721432FM" alt="技术边界" title="技术边界" coords="1124,589,1193,613" /><area shape="rect" href="#FMID_290558596FM" alt="4集成(最重要)" title="4集成(最重要)" coords="988,1571,1118,1598" /><area shape="rect" href="#FMID_1764153705FM" alt="理想的集成技术" title="理想的集成技术" coords="1136,650,1248,674" /><area shape="rect" href="#FMID_382906131FM" alt="避免破坏性修改" title="避免破坏性修改" coords="1266,615,1365,637" /><area shape="rect" href="#FMID_235829864FM" alt="如某服务响应中添加一个字段，消费放不应该受到影响" title="如某服务响应中添加一个字段，消费放不应该受到影响" coords="1383,615,1655,635" /><area shape="rect" href="#FMID_19183245FM" alt="保证API的技术无关性" title="保证API的技术无关性" coords="1266,639,1397,661" /><area shape="rect" href="#FMID_1463649350FM" alt="使服务易于消费方使用" title="使服务易于消费方使用" coords="1266,663,1404,685" /><area shape="rect" href="#FMID_1109393911FM" alt="隐藏内部实现细节" title="隐藏内部实现细节" coords="1266,687,1378,709" /><area shape="rect" href="#FMID_1572145473FM" alt="创建用户接口" title="创建用户接口" coords="1136,720,1234,744" /><area shape="rect" href="#FMID_714184998FM" alt="eq:创建用户，看起来想CRUD操作，实质上还包括给用户法welcom邮件、添加 ..." title="eq:创建用户，看起来想CRUD操作，实质上还包括给用户法welcom邮件、添加 ..." coords="1252,711,1807,751" /><area shape="rect" href="#FMID_1052833653FM" alt="同步或异步" title="同步或异步" coords="1136,806,1219,830" /><area shape="rect" href="#FMID_1197799778FM" alt="同步" title="同步" coords="1237,763,1273,785" /><area shape="rect" href="#FMID_1770788742FM" alt="发起远程服务调用后，调用方阻塞自己，等待整个操作的完成后返回" title="发起远程服务调用后，调用方阻塞自己，等待整个操作的完成后返回" coords="1291,753,1628,773" /><area shape="rect" href="#FMID_1405653834FM" alt="请求响应模型" title="请求响应模型" coords="1291,775,1367,795" /><area shape="rect" href="#FMID_353072770FM" alt="异步" title="异步" coords="1237,829,1273,851" /><area shape="rect" href="#FMID_1898192941FM" alt="调用方不需要等待操作完成，直接返回，甚至不关心操作是否完成" title="调用方不需要等待操作完成，直接返回，甚至不关心操作是否完成" coords="1291,797,1617,817" /><area shape="rect" href="#FMID_711672128FM" alt="基于事件模型" title="基于事件模型" coords="1291,841,1367,861" /><area shape="rect" href="#FMID_1321666248FM" alt="发布/订阅" title="发布/订阅" coords="1385,819,1442,839" /><area shape="rect" href="#FMID_362475123FM" alt="难点：处理跨多个服务的事务" title="难点：处理跨多个服务的事务" coords="1385,841,1537,861" /><area shape="rect" href="#FMID_1365734860FM" alt="异步回调" title="异步回调" coords="1385,863,1439,883" /><area shape="rect" href="#FMID_1386917032FM" alt="编排和协同(跨服务业务流程)" title="编排和协同(跨服务业务流程)" coords="1136,937,1330,961" /><area shape="rect" href="#FMID_123606195FM" alt="编排" title="编排" coords="1348,908,1384,930" /><area shape="rect" href="#FMID_380013021FM" alt="同步调用一组服务，等待各个服务的返回结果" title="同步调用一组服务，等待各个服务的返回结果" coords="1402,885,1630,905" /><area shape="rect" href="#FMID_987315472FM" alt="优点" title="优点" coords="1402,908,1434,928" /><area shape="rect" href="#FMID_87498266FM" alt="知道业务流程中每一步跨服务调用结果" title="知道业务流程中每一步跨服务调用结果" coords="1452,907,1648,927" /><area shape="rect" href="#FMID_1416150158FM" alt="缺点" title="缺点" coords="1402,931,1434,951" /><area shape="rect" href="#FMID_698501638FM" alt="容易承担太多的调用，太耗时，导致调用方的不稳定性" title="容易承担太多的调用，太耗时，导致调用方的不稳定性" coords="1452,930,1724,950" /><area shape="rect" href="#FMID_112049540FM" alt="协同" title="协同" coords="1348,971,1384,993" /><area shape="rect" href="#FMID_1811002371FM" alt="发布事件，有事件监听者进行处理，属异步调用" title="发布事件，有事件监听者进行处理，属异步调用" coords="1402,953,1641,973" /><area shape="rect" href="#FMID_1545810576FM" alt="降低服务之间的耦合度，带来的额外工作业务流程跨服务的监控，不过可通过消费方处理完 ..." title="降低服务之间的耦合度，带来的额外工作业务流程跨服务的监控，不过可通过消费方处理完 ..." coords="1402,975,1957,1011" /><area shape="rect" href="#FMID_89567144FM" alt="集成方式1：共享数据库" title="集成方式1：共享数据库" coords="1136,1058,1300,1082" /><area shape="rect" href="#FMID_659444033FM" alt="数据库集成" title="数据库集成" coords="1318,1058,1392,1080" /><area shape="rect" href="#FMID_201688009FM" alt="其他服务直接访问相同的数据库" title="其他服务直接访问相同的数据库" coords="1410,1013,1573,1033" /><area shape="rect" href="#FMID_121712056FM" alt="缺点" title="缺点" coords="1410,1070,1442,1090" /><area shape="rect" href="#FMID_572611465FM" alt="外部系统能查看内部实现细节" title="外部系统能查看内部实现细节" coords="1460,1036,1612,1056" /><area shape="rect" href="#FMID_762977970FM" alt="如果服务方修改了表结构，消费方将无法工作" title="如果服务方修改了表结构，消费方将无法工作" coords="1630,1035,1858,1055" /><area shape="rect" href="#FMID_94995826FM" alt="消费放与特定技术绑定到一起" title="消费放与特定技术绑定到一起" coords="1460,1069,1612,1089" /><area shape="rect" href="#FMID_7463796FM" alt="违反技术无关性" title="违反技术无关性" coords="1630,1058,1717,1078" /><area shape="rect" href="#FMID_1895345723FM" alt="想替换服务底层数据库，则消费放也需要全部重写" title="想替换服务底层数据库，则消费放也需要全部重写" coords="1630,1080,1880,1100" /><area shape="rect" href="#FMID_843881871FM" alt="同种逻辑重复开发，难维护" title="同种逻辑重复开发，难维护" coords="1460,1103,1601,1123" /><area shape="rect" href="#FMID_233169696FM" alt="服务方和消费方相似逻辑需要分别负责维护，修改一种逻辑，类似逻辑也需要修改" title="服务方和消费方相似逻辑需要分别负责维护，修改一种逻辑，类似逻辑也需要修改" coords="1619,1102,2022,1122" /><area shape="rect" href="#FMID_721899401FM" alt="集成方式2：RPC" title="集成方式2：RPC" coords="1136,1257,1258,1281" /><area shape="rect" href="#FMID_277826322FM" alt="RPC种类" title="RPC种类" coords="1276,1169,1338,1191" /><area shape="rect" href="#FMID_1169404066FM" alt="依赖接口" title="依赖接口" coords="1356,1147,1410,1167" /><area shape="rect" href="#FMID_1646890588FM" alt="SOAP" title="SOAP" coords="1428,1125,1468,1145" /><area shape="rect" href="#FMID_925780832FM" alt="Thrift" title="Thrift" coords="1428,1147,1463,1167" /><area shape="rect" href="#FMID_1063345676FM" alt="Protocol Buffers" title="Protocol Buffers" coords="1428,1169,1517,1189" /><area shape="rect" href="#FMID_1949496983FM" alt="不依赖接口" title="不依赖接口" coords="1356,1203,1421,1223" /><area shape="rect" href="#FMID_100733170FM" alt="Java RMI" title="Java RMI" coords="1439,1192,1494,1212" /><area shape="rect" href="#FMID_1843159238FM" alt="要求有相同技术栈：java" title="要求有相同技术栈：java" coords="1512,1191,1641,1211" /><area shape="rect" href="#FMID_584338922FM" alt="等" title="等" coords="1439,1214,1460,1234" /><area shape="rect" href="#FMID_769652915FM" alt="问题" title="问题" coords="1276,1269,1312,1291" /><area shape="rect" href="#FMID_730421157FM" alt="技术耦合" title="技术耦合" coords="1330,1269,1384,1289" /><area shape="rect" href="#FMID_373058067FM" alt="RMI要求都使用java" title="RMI要求都使用java" coords="1402,1236,1506,1256" /><area shape="rect" href="#FMID_1388381152FM" alt="网络不可靠导致本地调用和远程调用事实上存在差异" title="网络不可靠导致本地调用和远程调用事实上存在差异" coords="1402,1258,1663,1278" /><area shape="rect" href="#FMID_1746441632FM" alt="脆弱性" title="脆弱性" coords="1402,1291,1445,1311" /><area shape="rect" href="#FMID_512616213FM" alt="序列化机制的导致服务端修改之后客户端也必须跟着修改，否则传输到客户端的二进制无法 ..." title="序列化机制的导致服务端修改之后客户端也必须跟着修改，否则传输到客户端的二进制无法 ..." coords="1463,1280,1964,1300" /><area shape="rect" href="#FMID_10069059FM" alt="使用二进制桩生成的RPC都存在此问题" title="使用二进制桩生成的RPC都存在此问题" coords="1463,1302,1661,1322" /><area shape="rect" href="#FMID_419515230FM" alt="注意事项" title="注意事项" coords="1276,1356,1337,1378" /><area shape="rect" href="#FMID_1220814594FM" alt="不要对远程调用过度封装，导致网络因素完全被隐藏" title="不要对远程调用过度封装，导致网络因素完全被隐藏" coords="1355,1324,1616,1344" /><area shape="rect" href="#FMID_779407768FM" alt="在客户端不要隐藏我们正在进行远程调用这个事实" title="在客户端不要隐藏我们正在进行远程调用这个事实" coords="1355,1346,1605,1366" /><area shape="rect" href="#FMID_930988065FM" alt="确保服务端升级不需要强制客户端跟着升级" title="确保服务端升级不需要强制客户端跟着升级" coords="1355,1368,1573,1388" /><area shape="rect" href="#FMID_697397351FM" alt="谨慎使用客户端库" title="谨慎使用客户端库" coords="1355,1390,1453,1410" /><area shape="rect" href="#FMID_1981953573FM" alt="集成方式3：REST" title="集成方式3：REST" coords="1136,1608,1265,1632" /><area shape="rect" href="#FMID_1115121251FM" alt="简介" title="简介" coords="1283,1433,1319,1455" /><area shape="rect" href="#FMID_1525098433FM" alt="REST作为RPC的替代方案" title="REST作为RPC的替代方案" coords="1337,1412,1476,1432" /><area shape="rect" href="#FMID_724045153FM" alt="资源是核心概念，资源对外显示方式和内部表示方式不存在耦合" title="资源是核心概念，资源对外显示方式和内部表示方式不存在耦合" coords="1337,1434,1653,1454" /><area shape="rect" href="#FMID_1422397594FM" alt="Richardson成熟度模型" title="Richardson成熟度模型" coords="1337,1456,1475,1476" /><area shape="rect" href="#FMID_1093933550FM" alt="REST与HTML" title="REST与HTML" coords="1283,1488,1373,1510" /><area shape="rect" href="#FMID_233499078FM" alt="REST没有指定底层使用什么协议，常用HTTP" title="REST没有指定底层使用什么协议，常用HTTP" coords="1391,1478,1622,1498" /><area shape="rect" href="#FMID_209453139FM" alt="HTTP丰富的生态可以为REST所用，如认证机制，Varnish缓存代理" title="HTTP丰富的生态可以为REST所用，如认证机制，Varnish缓存代理" coords="1391,1500,1726,1520" /><area shape="rect" href="#FMID_810568414FM" alt="HATEOAS" title="HATEOAS" coords="1283,1576,1353,1598" /><area shape="rect" href="#FMID_1992189486FM" alt="Hypermedia as the Engine Of Application  ..." title="Hypermedia as the Engine Of Application  ..." coords="1371,1522,1766,1542" /><area shape="rect" href="#FMID_198955146FM" alt="超媒体" title="超媒体" coords="1371,1566,1414,1586" /><area shape="rect" href="#FMID_1566803268FM" alt="资源+指向其他资源链接" title="资源+指向其他资源链接" coords="1432,1544,1558,1564" /><area shape="rect" href="#FMID_1993139596FM" alt="HAL-Hypertext Application Language" title="HAL-Hypertext Application Language" coords="1432,1566,1638,1586" /><area shape="rect" href="#FMID_1817297833FM" alt="接口中除资源外，还包含相关资源链接" title="接口中除资源外，还包含相关资源链接" coords="1432,1588,1628,1608" /><area shape="rect" href="#FMID_236201508FM" alt="客户端需要理解API语义" title="客户端需要理解API语义" coords="1371,1610,1496,1630" /><area shape="rect" href="#FMID_935581962FM" alt="导致通信次数增多" title="导致通信次数增多" coords="1371,1632,1469,1652" /><area shape="rect" href="#FMID_91764472FM" alt="数据格式" title="数据格式" coords="1283,1697,1344,1719" /><area shape="rect" href="#FMID_498038880FM" alt="XML" title="XML" coords="1362,1665,1393,1685" /><area shape="rect" href="#FMID_255830293FM" alt="数据冗余" title="数据冗余" coords="1411,1654,1465,1674" /><area shape="rect" href="#FMID_1152498739FM" alt="XPATH支持查询，工具丰富" title="XPATH支持查询，工具丰富" coords="1411,1676,1554,1696" /><area shape="rect" href="#FMID_98044986FM" alt="Json" title="Json" coords="1362,1709,1397,1729" /><area shape="rect" href="#FMID_670045056FM" alt="轻量级" title="轻量级" coords="1415,1698,1458,1718" /><area shape="rect" href="#FMID_879063808FM" alt="JsonPath,工具少" title="JsonPath,工具少" coords="1415,1720,1508,1740" /><area shape="rect" href="#FMID_408069782FM" alt="其他" title="其他" coords="1362,1742,1394,1762" /><area shape="rect" href="#FMID_1408787810FM" alt="基于HTTP的REST的缺点" title="基于HTTP的REST的缺点" coords="1283,1785,1436,1807" /><area shape="rect" href="#FMID_1119900870FM" alt="易用性：无法生成客户端代码" title="易用性：无法生成客户端代码" coords="1454,1764,1606,1784" /><area shape="rect" href="#FMID_227498036FM" alt="一些web框架对HTTP的各种请求类型支持不够完整" title="一些web框架对HTTP的各种请求类型支持不够完整" coords="1454,1786,1710,1806" /><area shape="rect" href="#FMID_406260780FM" alt="适用于大流量的通信场景，但不适合低延迟通信" title="适用于大流量的通信场景，但不适合低延迟通信" coords="1454,1808,1693,1828" /><area shape="rect" href="#FMID_520067484FM" alt="基于事件的异步协作方式" title="基于事件的异步协作方式" coords="1136,1884,1306,1908" /><area shape="rect" href="#FMID_169581227FM" alt="技术选择" title="技术选择" coords="1324,1851,1385,1873" /><area shape="rect" href="#FMID_673918576FM" alt="微服务事件发布机制" title="微服务事件发布机制" coords="1403,1830,1512,1850" /><area shape="rect" href="#FMID_1717298504FM" alt="消息者接收事件机制" title="消息者接收事件机制" coords="1403,1852,1512,1872" /><area shape="rect" href="#FMID_942485990FM" alt="RabbitMQ" title="RabbitMQ" coords="1403,1874,1463,1894" /><area shape="rect" href="#FMID_1692605366FM" alt="异构架构复杂性" title="异构架构复杂性" coords="1324,1918,1423,1940" /><area shape="rect" href="#FMID_1958502872FM" alt="灾难性故障转移" title="灾难性故障转移" coords="1441,1896,1528,1916" /><area shape="rect" href="#FMID_1525264059FM" alt="设置作业最大重试次数" title="设置作业最大重试次数" coords="1441,1918,1560,1938" /><area shape="rect" href="#FMID_814883306FM" alt="《企业集成模式》" title="《企业集成模式》" coords="1441,1941,1539,1961" /><area shape="rect" href="#FMID_704627329FM" alt="介绍不同编程模式" title="介绍不同编程模式" coords="1557,1940,1655,1960" /><area shape="rect" href="#FMID_203796803FM" alt="服务即状态机" title="服务即状态机" coords="1136,1986,1234,2010" /><area shape="rect" href="#FMID_556271084FM" alt="服务根据限界上下文进行划分" title="服务根据限界上下文进行划分" coords="1252,1963,1428,1985" /><area shape="rect" href="#FMID_1140474123FM" alt="服务控制与之相关的对象的生命周期(状态)" title="服务控制与之相关的对象的生命周期(状态)" coords="1252,1987,1500,2009" /><area shape="rect" href="#FMID_1842664252FM" alt="服务内聚确保状态一致性" title="服务内聚确保状态一致性" coords="1252,2011,1402,2033" /><area shape="rect" href="#FMID_790348341FM" alt="响应式扩展(Reactive extension)" title="响应式扩展(Reactive extension)" coords="1136,2058,1347,2082" /><area shape="rect" href="#FMID_766868204FM" alt="组合异步的、基于事件的应用程序" title="组合异步的、基于事件的应用程序" coords="1365,2035,1566,2057" /><area shape="rect" href="#FMID_1069763222FM" alt="reactivex" title="reactivex" coords="1365,2059,1441,2081" /><area shape="rect" href="#FMID_1438866256FM" alt="RxJava" title="RxJava" coords="1365,2083,1416,2105" /><area shape="rect" href="#FMID_1435304809FM" alt="按引用访问" title="按引用访问" coords="1136,2118,1219,2142" /><area shape="rect" href="#FMID_1438438242FM" alt="微服务应该包含核心领域实体全生命周期的相关操作" title="微服务应该包含核心领域实体全生命周期的相关操作" coords="1237,2107,1540,2129" /><area shape="rect" href="#FMID_1371110658FM" alt="按引用访问(延迟获取)有利于保证数据的有效性" title="按引用访问(延迟获取)有利于保证数据的有效性" coords="1237,2131,1511,2153" /><area shape="rect" href="#FMID_640525561FM" alt="版本控制" title="版本控制" coords="1136,2266,1205,2290" /><area shape="rect" href="#FMID_1529053111FM" alt="尽可能延迟破坏性修改" title="尽可能延迟破坏性修改" coords="1223,2167,1361,2189" /><area shape="rect" href="#FMID_25569423FM" alt="服务保持&quot;宽进严出&quot;" title="服务保持&quot;宽进严出&quot;" coords="1379,2167,1484,2187" /><area shape="rect" href="#FMID_1295296650FM" alt="对自己发送的东西要严格" title="对自己发送的东西要严格" coords="1502,2155,1632,2175" /><area shape="rect" href="#FMID_408822322FM" alt="对接受的东西要宽容" title="对接受的东西要宽容" coords="1502,2178,1611,2198" /><area shape="rect" href="#FMID_1828442872FM" alt="容错性读取器(Tolerant Reader)" title="容错性读取器(Tolerant Reader)" coords="1629,2177,1793,2197" /><area shape="rect" href="#FMID_1540095582FM" alt="尽早发现破坏性修改" title="尽早发现破坏性修改" coords="1223,2200,1348,2222" /><area shape="rect" href="#FMID_887869515FM" alt="语义化版本管理" title="语义化版本管理" coords="1223,2256,1322,2278" /><area shape="rect" href="#FMID_1001915422FM" alt="Major.Minor.Patch" title="Major.Minor.Patch" coords="1340,2224,1439,2244" /><area shape="rect" href="#FMID_214663202FM" alt="Major包含向后不兼容的修改" title="Major包含向后不兼容的修改" coords="1340,2246,1487,2266" /><area shape="rect" href="#FMID_960718912FM" alt="Minor增加新功能，向后兼容" title="Minor增加新功能，向后兼容" coords="1340,2268,1487,2288" /><area shape="rect" href="#FMID_1984323240FM" alt="Patch缺陷修复" title="Patch缺陷修复" coords="1340,2290,1422,2310" /><area shape="rect" href="#FMID_917230115FM" alt="不同接口版本共存" title="不同接口版本共存" coords="1223,2344,1335,2366" /><area shape="rect" href="#FMID_224070030FM" alt="在同一个服务上，新版本和旧版本共存" title="在同一个服务上，新版本和旧版本共存" coords="1353,2312,1549,2332" /><area shape="rect" href="#FMID_248511262FM" alt="扩展/收缩模式" title="扩展/收缩模式" coords="1353,2334,1432,2354" /><area shape="rect" href="#FMID_927811615FM" alt="url使用版本号:/v1/c" title="url使用版本号:/v1/c" coords="1353,2356,1455,2376" /><area shape="rect" href="#FMID_793740803FM" alt="不建议长时间同时使用多个版本" title="不建议长时间同时使用多个版本" coords="1353,2378,1516,2398" /><area shape="rect" href="#FMID_1974296079FM" alt="用户界面" title="用户界面" coords="1136,2445,1205,2469" /><area shape="rect" href="#FMID_50663991FM" alt="适用web mobile 穿戴设备多种场景" title="适用web mobile 穿戴设备多种场景" coords="1223,2400,1428,2422" /><area shape="rect" href="#FMID_46847340FM" alt="API组合" title="API组合" coords="1223,2434,1278,2456" /><area shape="rect" href="#FMID_728863848FM" alt="界面直接与API通信" title="界面直接与API通信" coords="1296,2424,1399,2444" /><area shape="rect" href="#FMID_410620147FM" alt="API Gateway" title="API Gateway" coords="1296,2446,1368,2466" /><area shape="rect" href="#FMID_1053398521FM" alt="UI片段组合" title="UI片段组合" coords="1223,2468,1295,2490" /><area shape="rect" href="#FMID_316629856FM" alt="为前端服务的后端(BFF)" title="为前端服务的后端(BFF)" coords="1223,2492,1369,2514" /><area shape="rect" href="#FMID_1085560553FM" alt="绞杀者模式" title="绞杀者模式" coords="1136,2516,1219,2540" /><area shape="rect" href="#FMID_1573803861FM" alt="拦截调用，由开发者决定路由到新代码还是遗留代码" title="拦截调用，由开发者决定路由到新代码还是遗留代码" coords="1237,2516,1540,2538" /><area shape="rect" href="#FMID_1405743179FM" alt="5分解单块系统" title="5分解单块系统" coords="988,2905,1106,2932" /><area shape="rect" href="#FMID_1156122492FM" alt="关键寻找接缝：限界上下文就是好的接缝" title="关键寻找接缝：限界上下文就是好的接缝" coords="1124,2551,1396,2575" /><area shape="rect" href="#FMID_1895452621FM" alt="接缝：系统中可以抽取相对独立的一部分代码，这部分代码进行修改不会影响系统其他部分 ..." title="接缝：系统中可以抽取相对独立的一部分代码，这部分代码进行修改不会影响系统其他部分 ..." coords="1414,2542,1969,2582" /><area shape="rect" href="#FMID_1809706716FM" alt="分解单块系统原因" title="分解单块系统原因" coords="1124,2619,1251,2643" /><area shape="rect" href="#FMID_1120460823FM" alt="改变的速度" title="改变的速度" coords="1269,2584,1343,2606" /><area shape="rect" href="#FMID_336035540FM" alt="当某一服务需要大量修改时候，将该服务中的接缝抽出来，会加速整体修改的速度" title="当某一服务需要大量修改时候，将该服务中的接缝抽出来，会加速整体修改的速度" coords="1361,2584,1764,2604" /><area shape="rect" href="#FMID_606838669FM" alt="团队结构" title="团队结构" coords="1269,2608,1330,2630" /><area shape="rect" href="#FMID_1469155618FM" alt="团队结构改变，需要重新根据现状进行分解，方便代码开发维护" title="团队结构改变，需要重新根据现状进行分解，方便代码开发维护" coords="1348,2608,1664,2628" /><area shape="rect" href="#FMID_1209384731FM" alt="安全" title="安全" coords="1269,2632,1305,2654" /><area shape="rect" href="#FMID_1818452238FM" alt="将某一部分从系统中分离出来，进行单独监控和静态数据保护，提高安全性" title="将某一部分从系统中分离出来，进行单独监控和静态数据保护，提高安全性" coords="1323,2632,1693,2652" /><area shape="rect" href="#FMID_172904986FM" alt="技术" title="技术" coords="1269,2656,1305,2678" /><area shape="rect" href="#FMID_1784644125FM" alt="不同技术栈，单独将这部分分离出，屏蔽技术相关性" title="不同技术栈，单独将这部分分离出，屏蔽技术相关性" coords="1323,2656,1584,2676" /><area shape="rect" href="#FMID_939858509FM" alt="数据库表重构" title="数据库表重构" coords="1124,2768,1222,2792" /><area shape="rect" href="#FMID_1361985929FM" alt="SchemaSpy可视化DB表间关系" title="SchemaSpy可视化DB表间关系" coords="1240,2680,1425,2702" /><area shape="rect" href="#FMID_999636206FM" alt="外键约束通过业务逻辑实现" title="外键约束通过业务逻辑实现" coords="1240,2714,1403,2736" /><area shape="rect" href="#FMID_1098912888FM" alt="需要实现跨服务一致性检查" title="需要实现跨服务一致性检查" coords="1421,2704,1562,2724" /><area shape="rect" href="#FMID_1538926313FM" alt="周期性触发清理数据任务" title="周期性触发清理数据任务" coords="1421,2726,1551,2746" /><area shape="rect" href="#FMID_1858633882FM" alt="共享静态数据.如国家代码" title="共享静态数据.如国家代码" coords="1240,2769,1394,2791" /><area shape="rect" href="#FMID_719407320FM" alt="每个服务复制一份数据:有数据一致性问题" title="每个服务复制一份数据:有数据一致性问题" coords="1412,2748,1621,2768" /><area shape="rect" href="#FMID_13556981FM" alt="将数据放到代码中或配置文件中:数据一致性问题" title="将数据放到代码中或配置文件中:数据一致性问题" coords="1412,2770,1654,2790" /><area shape="rect" href="#FMID_548290072FM" alt="放到一个单独的服务中" title="放到一个单独的服务中" coords="1412,2792,1531,2812" /><area shape="rect" href="#FMID_1372286407FM" alt="共享动态数据" title="共享动态数据" coords="1240,2814,1327,2836" /><area shape="rect" href="#FMID_67359372FM" alt="识别出新的限界上下文，通过API通信" title="识别出新的限界上下文，通过API通信" coords="1345,2814,1535,2834" /><area shape="rect" href="#FMID_1322002750FM" alt="共享表" title="共享表" coords="1240,2848,1289,2870" /><area shape="rect" href="#FMID_1355056410FM" alt="拆分表" title="拆分表" coords="1307,2838,1350,2858" /><area shape="rect" href="#FMID_378659108FM" alt="拆分字段" title="拆分字段" coords="1307,2860,1361,2880" /><area shape="rect" href="#FMID_1145546976FM" alt="数据库重构" title="数据库重构" coords="1124,2972,1207,2996" /><area shape="rect" href="#FMID_1127584031FM" alt="代码分包" title="代码分包" coords="1225,2882,1286,2904" /><area shape="rect" href="#FMID_1614168113FM" alt="数据库表结构分离" title="数据库表结构分离" coords="1225,2906,1337,2928" /><area shape="rect" href="#FMID_1652789196FM" alt="事务边界识别" title="事务边界识别" coords="1225,2930,1312,2952" /><area shape="rect" href="#FMID_930147082FM" alt="跨服务边界事务" title="跨服务边界事务" coords="1225,2997,1324,3019" /><area shape="rect" href="#FMID_220162307FM" alt="多次重试，保证最终一致性" title="多次重试，保证最终一致性" coords="1342,2954,1483,2974" /><area shape="rect" href="#FMID_762043467FM" alt="跨多个服务边界事务失败解决" title="跨多个服务边界事务失败解决" coords="1342,2987,1494,3007" /><area shape="rect" href="#FMID_777977257FM" alt="补偿事务，抵消之前操作" title="补偿事务，抵消之前操作" coords="1512,2976,1642,2996" /><area shape="rect" href="#FMID_1970923369FM" alt="补偿事务失败，进行重试补偿事务/使用后台任务清除不一致状态" title="补偿事务失败，进行重试补偿事务/使用后台任务清除不一致状态" coords="1512,2998,1830,3018" /><area shape="rect" href="#FMID_1811214136FM" alt="分布式事务" title="分布式事务" coords="1342,3020,1425,3040" /><area shape="rect" href="#FMID_236012780FM" alt="从业务逻辑中寻求解决办法" title="从业务逻辑中寻求解决办法" coords="1342,3042,1483,3062" /><area shape="rect" href="#FMID_1614226847FM" alt="应用分解" title="应用分解" coords="1225,3064,1286,3086" /><area shape="rect" href="#FMID_1157408310FM" alt="报表" title="报表" coords="1124,3179,1164,3203" /><area shape="rect" href="#FMID_741972205FM" alt="报表数据库，主数据库周期性同步到报表数据库" title="报表数据库，主数据库周期性同步到报表数据库" coords="1182,3088,1459,3110" /><area shape="rect" href="#FMID_756256489FM" alt="服务调用获取数据" title="服务调用获取数据" coords="1182,3112,1294,3134" /><area shape="rect" href="#FMID_668325913FM" alt="API返回批量数据" title="API返回批量数据" coords="1182,3136,1288,3158" /><area shape="rect" href="#FMID_583496393FM" alt="异步发消息，轮询资源创建结果" title="异步发消息，轮询资源创建结果" coords="1182,3168,1370,3190" /><area shape="rect" href="#FMID_1542520974FM" alt="如消费者发出消息，服务者（满数据）创建结果数据到一个指定的位置（快数据），消费者 ..." title="如消费者发出消息，服务者（满数据）创建结果数据到一个指定的位置（快数据），消费者 ..." coords="1388,3160,1943,3196" /><area shape="rect" href="#FMID_349316462FM" alt="推送数据到报告系统" title="推送数据到报告系统" coords="1182,3198,1307,3220" /><area shape="rect" href="#FMID_1555710577FM" alt="中间程序，访问服务，获得数据存到报告数据库" title="中间程序，访问服务，获得数据存到报告数据库" coords="1182,3222,1459,3244" /><area shape="rect" href="#FMID_1705660671FM" alt="事件数据导出" title="事件数据导出" coords="1182,3246,1269,3268" /><area shape="rect" href="#FMID_65320065FM" alt="客户增删改时发送事件，报告数据库接受并处理事件，实现数据的存储" title="客户增删改时发送事件，报告数据库接受并处理事件，实现数据的存储" coords="1287,3246,1635,3266" /><area shape="rect" href="#FMID_1175518887FM" alt="aegisthus" title="aegisthus" coords="1182,3270,1248,3292" /><area shape="rect" href="#FMID_1898872876FM" alt="Netflix的解决办法，开源产品" title="Netflix的解决办法，开源产品" coords="1266,3270,1415,3290" /><area shape="rect" href="#FMID_473043926FM" alt="6部署" title="6部署" coords="789,933,841,960" /><area shape="rect" href="#FMID_111082710FM" alt="构建什么、如何构建、如何部署" title="构建什么、如何构建、如何部署" coords="557,675,771,699" /><area shape="rect" href="#FMID_1757494055FM" alt="CI持续集成" title="CI持续集成" coords="689,754,771,778" /><area shape="rect" href="#FMID_437700059FM" alt="jez humble测试别人是否理解CI" title="jez humble测试别人是否理解CI" coords="486,722,671,744" /><area shape="rect" href="#FMID_1786545155FM" alt="你是否每天潜入代码到主线：与其他人代码进行集成" title="你是否每天潜入代码到主线：与其他人代码进行集成" coords="207,701,468,721" /><area shape="rect" href="#FMID_263898730FM" alt="是否有测试来验证修改：自动化验证代码的行为" title="是否有测试来验证修改：自动化验证代码的行为" coords="229,723,468,743" /><area shape="rect" href="#FMID_1077542721FM" alt="当构建失败后，团队是否把修复CI当作第一优先级的事情做：即使修复构建错误，防止错 ..." title="当构建失败后，团队是否把修复CI当作第一优先级的事情做：即使修复构建错误，防止错 ..." coords="0,745,468,765" /><area shape="rect" href="#FMID_1471718655FM" alt="CI映射到微服务" title="CI映射到微服务" coords="572,788,671,810" /><area shape="rect" href="#FMID_1994364895FM" alt="多service一CI" title="多service一CI" coords="475,767,554,787" /><area shape="rect" href="#FMID_678242641FM" alt="多目录多CI" title="多目录多CI" coords="489,789,554,809" /><area shape="rect" href="#FMID_1868719256FM" alt="一Service一CI" title="一Service一CI" coords="475,811,554,831" /><area shape="rect" href="#FMID_968853823FM" alt="流水线与持续交付(CD(Continuous Delivery))" title="流水线与持续交付(CD(Continuous Delivery))" coords="479,856,771,880" /><area shape="rect" href="#FMID_1788495411FM" alt="例外情况：当开始一个新的项目，需要花时间识别边界" title="例外情况：当开始一个新的项目，需要花时间识别边界" coords="145,833,461,855" /><area shape="rect" href="#FMID_275157840FM" alt="当项目的API稳定以后，就开始移动到各自的构建中" title="当项目的API稳定以后，就开始移动到各自的构建中" coords="164,857,461,879" /><area shape="rect" href="#FMID_1998264396FM" alt="类似的开源项目也是类似的过程" title="类似的开源项目也是类似的过程" coords="273,881,461,903" /><area shape="rect" href="#FMID_896376870FM" alt="构建物" title="构建物" coords="717,928,771,952" /><area shape="rect" href="#FMID_1413355775FM" alt="平台特定构建物" title="平台特定构建物" coords="600,905,699,927" /><area shape="rect" href="#FMID_1149533990FM" alt="定制化镜像" title="定制化镜像" coords="625,929,699,951" /><area shape="rect" href="#FMID_1541367025FM" alt="自动化管理工具" title="自动化管理工具" coords="600,953,699,975" /><area shape="rect" href="#FMID_1208960400FM" alt="服务于主机之间的映射" title="服务于主机之间的映射" coords="615,1012,771,1036" /><area shape="rect" href="#FMID_1138265352FM" alt="单主机多服务" title="单主机多服务" coords="510,977,597,999" /><area shape="rect" href="#FMID_166228105FM" alt="应用程序容器" title="应用程序容器" coords="510,1001,597,1023" /><area shape="rect" href="#FMID_1034706251FM" alt="tomcat" title="tomcat" coords="448,1001,492,1021" /><area shape="rect" href="#FMID_822335003FM" alt="每个主机一个服务" title="每个主机一个服务" coords="485,1025,597,1047" /><area shape="rect" href="#FMID_1405433570FM" alt="PaaS" title="PaaS" coords="556,1049,597,1071" /><area shape="rect" href="#FMID_371934021FM" alt="自动化" title="自动化" coords="717,1073,771,1097" /><area shape="rect" href="#FMID_1264432535FM" alt="虚拟化" title="虚拟化" coords="717,1134,771,1158" /><area shape="rect" href="#FMID_1809537490FM" alt="传统虚拟化" title="传统虚拟化" coords="625,1099,699,1121" /><area shape="rect" href="#FMID_1752658186FM" alt="vagrant" title="vagrant" coords="645,1123,699,1145" /><area shape="rect" href="#FMID_351251290FM" alt="Container" title="Container" coords="632,1147,699,1169" /><area shape="rect" href="#FMID_1973290543FM" alt="LXC" title="LXC" coords="583,1147,614,1167" /><area shape="rect" href="#FMID_23739753FM" alt="Docker" title="Docker" coords="648,1171,699,1193" /><area shape="rect" href="#FMID_885729440FM" alt="服务器环境定义编排" title="服务器环境定义编排" coords="630,1195,771,1219" /><area shape="rect" href="#FMID_1725703856FM" alt="工具" title="工具" coords="576,1195,612,1217" /><area shape="rect" href="#FMID_1366848104FM" alt="7测试" title="7测试" coords="789,1339,841,1366" /><area shape="rect" href="#FMID_672743458FM" alt="类型" title="类型" coords="731,1221,771,1245" /><area shape="rect" href="#FMID_1323180824FM" alt="《敏捷软件测试》Lisa Crispin和Janet Gregory" title="《敏捷软件测试》Lisa Crispin和Janet Gregory" coords="439,1221,713,1243" /><area shape="rect" href="#FMID_1359228639FM" alt="范围" title="范围" coords="731,1270,771,1294" /><area shape="rect" href="#FMID_1230306954FM" alt="单元测试" title="单元测试" coords="652,1247,713,1269" /><area shape="rect" href="#FMID_1337626033FM" alt="服务测试" title="服务测试" coords="652,1271,713,1293" /><area shape="rect" href="#FMID_1336857973FM" alt="端到端测试" title="端到端测试" coords="639,1295,713,1317" /><area shape="rect" href="#FMID_1645075644FM" alt="实现服务测试" title="实现服务测试" coords="673,1330,771,1354" /><area shape="rect" href="#FMID_532480292FM" alt="mock还是打桩" title="mock还是打桩" coords="564,1319,655,1341" /><area shape="rect" href="#FMID_927306450FM" alt="智能打桩服务" title="智能打桩服务" coords="568,1343,655,1365" /><area shape="rect" href="#FMID_1773608979FM" alt="mountebank" title="mountebank" coords="462,1343,550,1363" /><area shape="rect" href="#FMID_1331738401FM" alt="消费者驱动的测试" title="消费者驱动的测试" coords="644,1378,771,1402" /><area shape="rect" href="#FMID_1518224285FM" alt="CDC" title="CDC" coords="588,1367,626,1389" /><area shape="rect" href="#FMID_837021843FM" alt="Pact" title="Pact" coords="590,1391,626,1413" /><area shape="rect" href="#FMID_141471057FM" alt="部署后再测试" title="部署后再测试" coords="673,1438,771,1462" /><area shape="rect" href="#FMID_1209293077FM" alt="区分部署和测试" title="区分部署和测试" coords="556,1415,655,1437" /><area shape="rect" href="#FMID_75649203FM" alt="金丝雀发布（灰度发布）" title="金丝雀发布（灰度发布）" coords="505,1439,655,1461" /><area shape="rect" href="#FMID_402176566FM" alt="蓝绿测试" title="蓝绿测试" coords="594,1463,655,1485" /><area shape="rect" href="#FMID_388266000FM" alt="8监控" title="8监控" coords="789,1547,841,1574" /><area shape="rect" href="#FMID_1902814167FM" alt="不同部署方式的监控" title="不同部署方式的监控" coords="630,1510,771,1534" /><area shape="rect" href="#FMID_321982821FM" alt="单服务单服务器" title="单服务单服务器" coords="513,1487,612,1509" /><area shape="rect" href="#FMID_1930619968FM" alt="单服务多服务器" title="单服务多服务器" coords="513,1511,612,1533" /><area shape="rect" href="#FMID_1092655557FM" alt="多服务多服务器" title="多服务多服务器" coords="513,1535,612,1557" /><area shape="rect" href="#FMID_311220220FM" alt="日志" title="日志" coords="731,1559,771,1583" /><area shape="rect" href="#FMID_543013021FM" alt="工具" title="工具" coords="677,1559,713,1581" /><area shape="rect" href="#FMID_1935673779FM" alt="关联标识" title="关联标识" coords="702,1585,771,1609" /><area shape="rect" href="#FMID_1310794252FM" alt="级联" title="级联" coords="731,1611,771,1635" /><area shape="rect" href="#FMID_435797303FM" alt="断路器" title="断路器" coords="664,1611,713,1633" /><area shape="rect" href="#FMID_1433674337FM" alt="9安全" title="9安全" coords="789,1845,841,1872" /><area shape="rect" href="#FMID_1844591582FM" alt="认证与授权" title="认证与授权" coords="688,1845,771,1869" /><area shape="rect" href="#FMID_702668559FM" alt="用户身份认证授权" title="用户身份认证授权" coords="558,1670,670,1692" /><area shape="rect" href="#FMID_1923721718FM" alt="单点登陆实现" title="单点登陆实现" coords="464,1648,540,1668" /><area shape="rect" href="#FMID_1249596746FM" alt="SAML" title="SAML" coords="407,1637,446,1657" /><area shape="rect" href="#FMID_732943936FM" alt="OpenID Connect" title="OpenID Connect" coords="353,1659,446,1679" /><area shape="rect" href="#FMID_1843892399FM" alt="单点登录网管" title="单点登录网管" coords="464,1682,540,1702" /><area shape="rect" href="#FMID_1005885115FM" alt="Shibboleth" title="Shibboleth" coords="382,1681,446,1701" /><area shape="rect" href="#FMID_274155207FM" alt="细粒度授权" title="细粒度授权" coords="475,1704,540,1724" /><area shape="rect" href="#FMID_1260166168FM" alt="服务间身份认证授权" title="服务间身份认证授权" coords="545,1791,670,1813" /><area shape="rect" href="#FMID_1057420711FM" alt="边界内允许一切" title="边界内允许一切" coords="440,1726,527,1746" /><area shape="rect" href="#FMID_1054338917FM" alt="HTTPS基本认证" title="HTTPS基本认证" coords="438,1748,527,1768" /><area shape="rect" href="#FMID_1241473919FM" alt="使用SAML和OpenID Connect" title="使用SAML和OpenID Connect" coords="373,1770,527,1790" /><area shape="rect" href="#FMID_1424516385FM" alt="客户端证书" title="客户端证书" coords="462,1792,527,1812" /><area shape="rect" href="#FMID_1146280917FM" alt="HTTP上的HMAC" title="HTTP上的HMAC" coords="436,1814,527,1834" /><area shape="rect" href="#FMID_871123960FM" alt="API密钥" title="API密钥" coords="478,1836,527,1856" /><area shape="rect" href="#FMID_601254511FM" alt="代理问题" title="代理问题" coords="473,1858,527,1878" /><area shape="rect" href="#FMID_691052252FM" alt="静态数据安全" title="静态数据安全" coords="583,1912,670,1934" /><area shape="rect" href="#FMID_1267350589FM" alt="算法选择" title="算法选择" coords="511,1880,565,1900" /><area shape="rect" href="#FMID_552496286FM" alt="密钥" title="密钥" coords="533,1902,565,1922" /><area shape="rect" href="#FMID_450394513FM" alt="加密备份" title="加密备份" coords="511,1924,565,1944" /><area shape="rect" href="#FMID_1177840887FM" alt="按需解密" title="按需解密" coords="511,1946,565,1966" /><area shape="rect" href="#FMID_150532744FM" alt="深度防御" title="深度防御" coords="609,2011,670,2033" /><area shape="rect" href="#FMID_1961194515FM" alt="防火墙" title="防火墙" coords="548,1968,591,1988" /><area shape="rect" href="#FMID_9763626FM" alt="日志" title="日志" coords="559,1990,591,2010" /><area shape="rect" href="#FMID_1898393036FM" alt="入侵检测和预防系统" title="入侵检测和预防系统" coords="482,2012,591,2032" /><area shape="rect" href="#FMID_1309407848FM" alt="网络隔离" title="网络隔离" coords="537,2034,591,2054" /><area shape="rect" href="#FMID_1247497966FM" alt="操作系统" title="操作系统" coords="537,2056,591,2076" /><area shape="rect" href="#FMID_939876750FM" alt="工具" title="工具" coords="798,2427,841,2454" /><area shape="rect" href="#FMID_1982119985FM" alt="自动化管理工具" title="自动化管理工具" coords="668,2167,780,2191" /><area shape="rect" href="#FMID_1912292966FM" alt="Ansible" title="Ansible" coords="598,2078,650,2100" /><area shape="rect" href="#FMID_874797879FM" alt="Fabric" title="Fabric" coords="603,2102,650,2124" /><area shape="rect" href="#FMID_615870856FM" alt="配置" title="配置" coords="614,2136,650,2158" /><area shape="rect" href="#FMID_1845102073FM" alt="Puppet" title="Puppet" coords="550,2126,596,2146" /><area shape="rect" href="#FMID_910276682FM" alt="Chef" title="Chef" coords="562,2148,596,2168" /><area shape="rect" href="#FMID_606526984FM" alt="包管理" title="包管理" coords="601,2202,650,2224" /><area shape="rect" href="#FMID_936799076FM" alt="NuGet" title="NuGet" coords="541,2170,583,2190" /><area shape="rect" href="#FMID_1238922805FM" alt="Chocolaty" title="Chocolaty" coords="523,2192,583,2212" /><area shape="rect" href="#FMID_1238428602FM" alt="fpm" title="fpm" coords="553,2214,583,2234" /><area shape="rect" href="#FMID_1790010674FM" alt="deb" title="deb" coords="553,2236,583,2256" /><area shape="rect" href="#FMID_1800602356FM" alt="定制镜像" title="定制镜像" coords="589,2258,650,2280" /><area shape="rect" href="#FMID_1945698689FM" alt="packer" title="packer" coords="527,2258,571,2278" /><area shape="rect" href="#FMID_280493708FM" alt="日志" title="日志" coords="740,2317,780,2341" /><area shape="rect" href="#FMID_693899140FM" alt="logstash 日志聚合" title="logstash 日志聚合" coords="609,2282,722,2304" /><area shape="rect" href="#FMID_1405048077FM" alt="Kibana查看日志的系统" title="Kibana查看日志的系统" coords="583,2306,722,2328" /><area shape="rect" href="#FMID_1109978718FM" alt="Graphite" title="Graphite" coords="662,2330,722,2352" /><area shape="rect" href="#FMID_830146071FM" alt="系统指标模式发现工具" title="系统指标模式发现工具" coords="525,2330,644,2350" /><area shape="rect" href="#FMID_467410184FM" alt="Metrics" title="Metrics" coords="671,2354,722,2376" /><area shape="rect" href="#FMID_475771672FM" alt="jvm" title="jvm" coords="625,2354,653,2374" /><area shape="rect" href="#FMID_1962017484FM" alt="监控" title="监控" coords="740,2401,780,2425" /><area shape="rect" href="#FMID_1248427273FM" alt="collectd收集OS状态" title="collectd收集OS状态" coords="599,2378,722,2400" /><area shape="rect" href="#FMID_370944646FM" alt="nagios监控" title="nagios监控" coords="648,2402,722,2424" /><area shape="rect" href="#FMID_1897827671FM" alt="Hystrix" title="Hystrix" coords="674,2426,722,2448" /><area shape="rect" href="#FMID_1405197474FM" alt="jvm" title="jvm" coords="628,2426,656,2446" /><area shape="rect" href="#FMID_1079305020FM" alt="vagrant" title="vagrant" coords="723,2450,780,2474" /><area shape="rect" href="#FMID_313541887FM" alt="Terraform" title="Terraform" coords="708,2476,780,2500" /><area shape="rect" href="#FMID_322686141FM" alt="Riemann事件服务器" title="Riemann事件服务器" coords="641,2502,780,2526" /><area shape="rect" href="#FMID_1744024442FM" alt="suro 数据流水线" title="suro 数据流水线" coords="651,2528,780,2552" /><area shape="rect" href="#FMID_186341533FM" alt="Omniture" title="Omniture" coords="712,2554,780,2578" /><area shape="rect" href="#FMID_747494833FM" alt="安全工具" title="安全工具" coords="711,2615,780,2639" /><area shape="rect" href="#FMID_1068467456FM" alt="ZAP" title="ZAP" coords="659,2580,693,2602" /><area shape="rect" href="#FMID_21922450FM" alt="Brakeman" title="Brakeman" coords="624,2604,693,2626" /><area shape="rect" href="#FMID_664953871FM" alt="Nessus" title="Nessus" coords="641,2628,693,2650" /><area shape="rect" href="#FMID_2174540FM" alt="OWASP" title="OWASP" coords="636,2652,693,2674" /><area shape="rect" href="#FMID_672114803FM" alt="Redis Memcached" title="Redis Memcached" coords="651,2676,780,2700" /><area shape="rect" href="#FMID_634289215FM" alt="缓存" title="缓存" coords="597,2676,633,2698" /><area shape="rect" href="#FMID_468890551FM" alt="Squid、Varnish" title="Squid、Varnish" coords="670,2702,780,2726" /><area shape="rect" href="#FMID_272541764FM" alt="反向代理" title="反向代理" coords="591,2702,652,2724" /><area shape="rect" href="#FMID_1320248262FM" alt="Zipkin" title="Zipkin" coords="731,2728,780,2752" /><area shape="rect" href="#FMID_875864872FM" alt="服务间调用追踪" title="服务间调用追踪" coords="614,2728,713,2750" /><area shape="rect" href="#FMID_870362423FM" alt="Storm" title="Storm" coords="731,2754,780,2778" /><area shape="rect" href="#FMID_340922364FM" alt="实时分析" title="实时分析" coords="652,2754,713,2776" /><area shape="rect" href="#FMID_903223918FM" alt="shibboleth" title="shibboleth" coords="705,2780,780,2804" /><area shape="rect" href="#FMID_1125595025FM" alt="单点登陆相关工具" title="单点登陆相关工具" coords="575,2780,687,2802" /></map>

<div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10007&quot;)" id="imgN10007" /><a id="FMID_1336903642FM" /><div class="nodecontent" style="color:#000000;font-size:167%;">微服务设计</div><div class="content" id="N10007"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N104EA&quot;)" id="imgN104EA" /><a id="FMID_1217824534FM" /><div class="nodecontent" style="color:#0033ff;font-size:150%;">12总结</div><div class="content" id="N104EA"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N104FA&quot;)" id="imgN104FA" /><a id="FMID_557673381FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">微服务原则</div><div class="content" id="N104FA"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_734234139FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">隐藏内部实现细节</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1535719000FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">让一切去中心化</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1669605139FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">可独立部署</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_488911153FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">隔离失败</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1100862373FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">高度可观察</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10546&quot;)" id="imgN10546" /><a id="FMID_1800243548FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">什么时候不使用微服务</div><div class="content" id="N10546"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1873741037FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">不了解领域，请先花时间俩姐，尝试识别清晰的模块边界</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_368165870FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">长实现构建单块系统，稳定后进行拆分</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10DDD&quot;)" id="imgN10DDD" /><a id="FMID_473043926FM" /><div class="nodecontent" style="color:#0033ff;font-size:150%;">6部署</div><div class="content" id="N10DDD"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_111082710FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">构建什么、如何构建、如何部署</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10DFD&quot;)" id="imgN10DFD" /><a id="FMID_1757494055FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">CI持续集成</div><div class="content" id="N10DFD"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10E0C&quot;)" id="imgN10E0C" /><a id="FMID_437700059FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">jez humble测试别人是否理解CI</div><div class="content" id="N10E0C"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1786545155FM" /><div class="nodecontent" style="color:#111111;">你是否每天潜入代码到主线：与其他人代码进行集成</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_263898730FM" /><div class="nodecontent" style="color:#111111;">是否有测试来验证修改：自动化验证代码的行为</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1077542721FM" /><div class="nodecontent" style="color:#111111;">当构建失败后，团队是否把修复CI当作第一优先级的事情做：即使修复构建错误，防止错误蔓延</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10E2D&quot;)" id="imgN10E2D" /><a id="FMID_1471718655FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">CI映射到微服务</div><div class="content" id="N10E2D"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1994364895FM" /><div class="nodecontent" style="color:#111111;font-size:100%;">多service一CI</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_678242641FM" /><div class="nodecontent" style="color:#111111;font-size:100%;">多目录多CI</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1868719256FM" /><div class="nodecontent" style="color:#111111;font-size:100%;">一Service一CI</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10E62&quot;)" id="imgN10E62" /><a id="FMID_968853823FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">流水线与持续交付(CD(Continuous Delivery))</div><div class="content" id="N10E62"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1788495411FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">例外情况：当开始一个新的项目，需要花时间识别边界</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_275157840FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">当项目的API稳定以后，就开始移动到各自的构建中</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1998264396FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">类似的开源项目也是类似的过程</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10E96&quot;)" id="imgN10E96" /><a id="FMID_896376870FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">构建物</div><div class="content" id="N10E96"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1413355775FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">平台特定构建物</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1149533990FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">定制化镜像</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1541367025FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">自动化管理工具</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10EDE&quot;)" id="imgN10EDE" /><a id="FMID_1208960400FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">服务于主机之间的映射</div><div class="content" id="N10EDE"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1138265352FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">单主机多服务</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10EF9&quot;)" id="imgN10EF9" /><a id="FMID_166228105FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">应用程序容器</div><div class="content" id="N10EF9"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1034706251FM" /><div class="nodecontent" style="color:#111111;">tomcat</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_822335003FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">每个主机一个服务</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1405433570FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">PaaS</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_371934021FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">自动化</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10F35&quot;)" id="imgN10F35" /><a id="FMID_1264432535FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">虚拟化</div><div class="content" id="N10F35"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1809537490FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">传统虚拟化</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1752658186FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">vagrant</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10F5C&quot;)" id="imgN10F5C" /><a id="FMID_351251290FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Container</div><div class="content" id="N10F5C"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1973290543FM" /><div class="nodecontent" style="color:#111111;">LXC</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_23739753FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Docker</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10F7C&quot;)" id="imgN10F7C" /><a id="FMID_885729440FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">服务器环境定义编排</div><div class="content" id="N10F7C"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1725703856FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">工具</div> <a onclick="getVisibleParents('FMID_313541887FM')" href="#FMID_313541887FM"><img src="微服务设计.html_files/ilink.png" class="ilink" alt="Arrow Link" /></a></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10FA2&quot;)" id="imgN10FA2" /><a id="FMID_1366848104FM" /><div class="nodecontent" style="color:#0033ff;font-size:150%;">7测试</div><div class="content" id="N10FA2"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10FB2&quot;)" id="imgN10FB2" /><a id="FMID_672743458FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">类型</div><div class="content" id="N10FB2"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1323180824FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">《敏捷软件测试》Lisa Crispin和Janet Gregory</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10FCE&quot;)" id="imgN10FCE" /><a id="FMID_1359228639FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">范围</div><div class="content" id="N10FCE"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1230306954FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">单元测试</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1337626033FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">服务测试</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1336857973FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">端到端测试</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N11002&quot;)" id="imgN11002" /><a id="FMID_1645075644FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">实现服务测试</div><div class="content" id="N11002"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_532480292FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">mock还是打桩</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1101D&quot;)" id="imgN1101D" /><a id="FMID_927306450FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">智能打桩服务</div><div class="content" id="N1101D"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1773608979FM" /><div class="nodecontent" style="color:#111111;"><a href="http://www.mbtest.org/">mountebank</a> <a href="http://www.mbtest.org/"><img src="微服务设计.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N11032&quot;)" id="imgN11032" /><a id="FMID_1331738401FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">消费者驱动的测试</div><div class="content" id="N11032"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1518224285FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">CDC</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_837021843FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Pact</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1105A&quot;)" id="imgN1105A" /><a id="FMID_141471057FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">部署后再测试</div><div class="content" id="N1105A"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1209293077FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">区分部署和测试</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_75649203FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">金丝雀发布（灰度发布）</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_402176566FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">蓝绿测试</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1108F&quot;)" id="imgN1108F" /><a id="FMID_388266000FM" /><div class="nodecontent" style="color:#0033ff;font-size:150%;">8监控</div><div class="content" id="N1108F"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1109F&quot;)" id="imgN1109F" /><a id="FMID_1902814167FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">不同部署方式的监控</div><div class="content" id="N1109F"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_321982821FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">单服务单服务器</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1930619968FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">单服务多服务器</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1092655557FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">多服务多服务器</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N110D3&quot;)" id="imgN110D3" /><a id="FMID_311220220FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">日志</div><div class="content" id="N110D3"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_543013021FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">工具</div> <a onclick="getVisibleParents('FMID_280493708FM')" href="#FMID_280493708FM"><img src="微服务设计.html_files/ilink.png" class="ilink" alt="Arrow Link" /></a></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1935673779FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">关联标识</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N11108&quot;)" id="imgN11108" /><a id="FMID_1310794252FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">级联</div><div class="content" id="N11108"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_435797303FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">断路器</div> <a onclick="getVisibleParents('FMID_1897827671FM')" href="#FMID_1897827671FM"><img src="微服务设计.html_files/ilink.png" class="ilink" alt="Arrow Link" /></a></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1112E&quot;)" id="imgN1112E" /><a id="FMID_1433674337FM" /><div class="nodecontent" style="color:#0033ff;font-size:150%;">9安全</div><div class="content" id="N1112E"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1113E&quot;)" id="imgN1113E" /><a id="FMID_1844591582FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">认证与授权</div><div class="content" id="N1113E"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1114D&quot;)" id="imgN1114D" /><a id="FMID_702668559FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">用户身份认证授权</div><div class="content" id="N1114D"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N11158&quot;)" id="imgN11158" /><a id="FMID_1923721718FM" /><div class="nodecontent" style="color:#111111;">单点登陆实现</div><div class="content" id="N11158"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1249596746FM" /><div class="nodecontent" style="color:#111111;">SAML</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_732943936FM" /><div class="nodecontent" style="color:#111111;">OpenID Connect</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1116E&quot;)" id="imgN1116E" /><a id="FMID_1843892399FM" /><div class="nodecontent" style="color:#111111;">单点登录网管</div><div class="content" id="N1116E"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1005885115FM" /><div class="nodecontent" style="color:#111111;">Shibboleth</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_274155207FM" /><div class="nodecontent" style="color:#111111;">细粒度授权</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N11185&quot;)" id="imgN11185" /><a id="FMID_1260166168FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">服务间身份认证授权</div><div class="content" id="N11185"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1057420711FM" /><div class="nodecontent" style="color:#111111;">边界内允许一切</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1054338917FM" /><div class="nodecontent" style="color:#111111;">HTTPS基本认证</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1241473919FM" /><div class="nodecontent" style="color:#111111;">使用SAML和OpenID Connect</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1424516385FM" /><div class="nodecontent" style="color:#111111;">客户端证书</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1146280917FM" /><div class="nodecontent" style="color:#111111;">HTTP上的HMAC</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_871123960FM" /><div class="nodecontent" style="color:#111111;">API密钥</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_601254511FM" /><div class="nodecontent" style="color:#111111;">代理问题</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N111C2&quot;)" id="imgN111C2" /><a id="FMID_691052252FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">静态数据安全</div><div class="content" id="N111C2"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1267350589FM" /><div class="nodecontent" style="color:#111111;">算法选择</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_552496286FM" /><div class="nodecontent" style="color:#111111;">密钥</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_450394513FM" /><div class="nodecontent" style="color:#111111;">加密备份</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1177840887FM" /><div class="nodecontent" style="color:#111111;">按需解密</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N111EA&quot;)" id="imgN111EA" /><a id="FMID_150532744FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">深度防御</div><div class="content" id="N111EA"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1961194515FM" /><div class="nodecontent" style="color:#111111;">防火墙</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_9763626FM" /><div class="nodecontent" style="color:#111111;">日志</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1898393036FM" /><div class="nodecontent" style="color:#111111;">入侵检测和预防系统</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1309407848FM" /><div class="nodecontent" style="color:#111111;">网络隔离</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1247497966FM" /><div class="nodecontent" style="color:#111111;">操作系统</div></div></div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1121B&quot;)" id="imgN1121B" /><a id="FMID_939876750FM" /><div class="nodecontent" style="color:#0033ff;font-size:150%;">工具</div><div class="content" id="N1121B"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1122B&quot;)" id="imgN1122B" /><a id="FMID_1982119985FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">自动化管理工具</div> <a onclick="getVisibleParents('FMID_1541367025FM')" href="#FMID_1541367025FM"><img src="微服务设计.html_files/ilink.png" class="ilink" alt="Arrow Link" /></a><div class="content" id="N1122B"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1912292966FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Ansible</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_874797879FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Fabric</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1125B&quot;)" id="imgN1125B" /><a id="FMID_615870856FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">配置</div><div class="content" id="N1125B"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1845102073FM" /><div class="nodecontent" style="color:#111111;">Puppet</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_910276682FM" /><div class="nodecontent" style="color:#111111;">Chef</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N11275&quot;)" id="imgN11275" /><a id="FMID_606526984FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">包管理</div><div class="content" id="N11275"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_936799076FM" /><div class="nodecontent" style="color:#111111;">NuGet</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1238922805FM" /><div class="nodecontent" style="color:#111111;">Chocolaty</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1238428602FM" /><div class="nodecontent" style="color:#111111;">fpm</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1790010674FM" /><div class="nodecontent" style="color:#111111;">deb</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1129D&quot;)" id="imgN1129D" /><a id="FMID_1800602356FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">定制镜像</div> <a onclick="getVisibleParents('FMID_1149533990FM')" href="#FMID_1149533990FM"><img src="微服务设计.html_files/ilink.png" class="ilink" alt="Arrow Link" /></a><div class="content" id="N1129D"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1945698689FM" /><div class="nodecontent" style="color:#111111;">packer</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N112BA&quot;)" id="imgN112BA" /><a id="FMID_280493708FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">日志</div><div class="content" id="N112BA"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_693899140FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">logstash 日志聚合</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1405048077FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Kibana查看日志的系统</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N112EB&quot;)" id="imgN112EB" /><a id="FMID_1109978718FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Graphite</div><div class="content" id="N112EB"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_830146071FM" /><div class="nodecontent" style="color:#111111;">系统指标模式发现工具</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N112FE&quot;)" id="imgN112FE" /><a id="FMID_467410184FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Metrics</div><div class="content" id="N112FE"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_475771672FM" /><div class="nodecontent" style="color:#111111;">jvm</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N11312&quot;)" id="imgN11312" /><a id="FMID_1962017484FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">监控</div><div class="content" id="N11312"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1248427273FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">collectd收集OS状态</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_370944646FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">nagios监控</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N11339&quot;)" id="imgN11339" /><a id="FMID_1897827671FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Hystrix</div><div class="content" id="N11339"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1405197474FM" /><div class="nodecontent" style="color:#111111;">jvm</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1079305020FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">vagrant</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_313541887FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">Terraform</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_322686141FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">Riemann事件服务器</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1744024442FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;"><a href="https://github.com/Netflix/suro">suro 数据流水线</a> <a href="https://github.com/Netflix/suro"><img src="微服务设计.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_186341533FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">Omniture</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N113B2&quot;)" id="imgN113B2" /><a id="FMID_747494833FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">安全工具</div><div class="content" id="N113B2"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1068467456FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">ZAP</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_21922450FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Brakeman</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_664953871FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Nessus</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_2174540FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">OWASP</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N113F2&quot;)" id="imgN113F2" /><a id="FMID_672114803FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">Redis Memcached</div><div class="content" id="N113F2"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_634289215FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">缓存</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1140E&quot;)" id="imgN1140E" /><a id="FMID_468890551FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">Squid、Varnish</div><div class="content" id="N1140E"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_272541764FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">反向代理</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1142A&quot;)" id="imgN1142A" /><a id="FMID_1320248262FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">Zipkin</div><div class="content" id="N1142A"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_875864872FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">服务间调用追踪</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N11446&quot;)" id="imgN11446" /><a id="FMID_870362423FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">Storm</div><div class="content" id="N11446"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_340922364FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">实时分析</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N11462&quot;)" id="imgN11462" /><a id="FMID_903223918FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">shibboleth</div><div class="content" id="N11462"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1125595025FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">单点登陆相关工具</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10015&quot;)" id="imgN10015" /><a id="FMID_1904777781FM" /><div class="nodecontent" style="color:#0033ff;font-size:150%;">10康威定律与系统设计</div><div class="content" id="N10015"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_994074167FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">任何组织设计一套系统，所交付的设计方案再结构上都与该组织的沟通结构保持一致</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10035&quot;)" id="imgN10035" /><a id="FMID_31586904FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">证据</div><div class="content" id="N10035"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_650490088FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Window vista</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1264837804FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Netflix</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1719575068FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Amazon</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1657698243FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">RealEstate.com.au</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10075&quot;)" id="imgN10075" /><a id="FMID_48810268FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">服务所有权</div><div class="content" id="N10075"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_213231907FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">共享服务</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10090&quot;)" id="imgN10090" /><a id="FMID_41905385FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">内部开源</div><div class="content" id="N10090"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_133753407FM" /><div class="nodecontent" style="color:#111111;">守护者（核心提交）</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1498664188FM" /><div class="nodecontent" style="color:#111111;">工具</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1373991068FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">限界上下文与团队结构</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N100BC&quot;)" id="imgN100BC" /><a id="FMID_1956673705FM" /><div class="nodecontent" style="color:#0033ff;font-size:150%;">11规模化微服务</div><div class="content" id="N100BC"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N100CD&quot;)" id="imgN100CD" /><a id="FMID_1206211034FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">故障无处不在</div><div class="content" id="N100CD"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_525871574FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">故障不可避免</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1206416764FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">如何避免故障</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1458463284FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">如何从故障中恢复</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10101&quot;)" id="imgN10101" /><a id="FMID_282748407FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">故障衡量</div><div class="content" id="N10101"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1821336663FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">响应时间/延时</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_691192002FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">可用性：24/7</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_287376250FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">数据持久性</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10139&quot;)" id="imgN10139" /><a id="FMID_790236422FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">功能降级</div><div class="content" id="N10139"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10148&quot;)" id="imgN10148" /><a id="FMID_1177004117FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">优雅失败</div><div class="content" id="N10148"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_295102575FM" /><div class="nodecontent" style="color:#111111;">生成静态页面，提供给用户，降低故障影响</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1015C&quot;)" id="imgN1015C" /><a id="FMID_119641315FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">架构行安全措施</div><div class="content" id="N1015C"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1378207741FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">相应慢时最糟糕的故障模式</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_663396469FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">分布式系统中，延迟是致命的</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10183&quot;)" id="imgN10183" /><a id="FMID_1151527059FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">安全的与下游交互</div><div class="content" id="N10183"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_183612754FM" /><div class="nodecontent" style="color:#111111;">设置超时</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_997112517FM" /><div class="nodecontent" style="color:#111111;">舱壁隔离不同的连接池</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1019C&quot;)" id="imgN1019C" /><a id="FMID_860779092FM" /><div class="nodecontent" style="color:#111111;">断路器</div><div class="content" id="N1019C"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1449496349FM" /><div class="nodecontent" style="color:#111111;">失败一定数量，服务下线</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_442693385FM" /><div class="nodecontent" style="color:#111111;">偶尔发送健康检查</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_767943022FM" /><div class="nodecontent" style="color:#111111;">健康达标后，重新上线</div></div></div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N101BB&quot;)" id="imgN101BB" /><a id="FMID_1118833086FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">反脆弱组织</div><div class="content" id="N101BB"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_756849603FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Netflix通过人工制造故障检测系统</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N101D6&quot;)" id="imgN101D6" /><a id="FMID_1495457679FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Google灾难恢复测试</div><div class="content" id="N101D6"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_113231624FM" /><div class="nodecontent" style="color:#111111;">DiRT</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_619391986FM" /><div class="nodecontent" style="color:#111111;">模拟地震</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_300779049FM" /><div class="nodecontent" style="color:#111111;">编写程序引发故障</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N101F7&quot;)" id="imgN101F7" /><a id="FMID_1506840336FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">一些项目</div><div class="content" id="N101F7"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_849776672FM" /><div class="nodecontent" style="color:#111111;">混乱猴子：一天特定时间段随机停止服务器</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1730840981FM" /><div class="nodecontent" style="color:#111111;">混乱大猩猩：堆积关闭整个可用去</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1767149027FM" /><div class="nodecontent" style="color:#111111;">延迟猴子：再系统之间注入网络延迟</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10218&quot;)" id="imgN10218" /><a id="FMID_1659343010FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">NetflixHystrix</div><div class="content" id="N10218"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_879227610FM" /><div class="nodecontent" style="color:#111111;">一种断路器实现</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1169800636FM" /><div class="nodecontent" style="color:#111111;">Latency and falure torence library</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10233&quot;)" id="imgN10233" /><a id="FMID_519580834FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">幂等</div><div class="content" id="N10233"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_904681128FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">执行多次多产生的影响，与执行一次的影响相同</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1930882087FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">http中GET和PUT中被定义为幂等</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_695993366FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">安全的重复执行</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10267&quot;)" id="imgN10267" /><a id="FMID_1842298685FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">扩展</div><div class="content" id="N10267"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1553855908FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">强大的主机：竖向扩展</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1214959758FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">单主机单服务</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1028E&quot;)" id="imgN1028E" /><a id="FMID_1355268764FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">复杂均衡</div><div class="content" id="N1028E"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10299&quot;)" id="imgN10299" /><a id="FMID_1561179403FM" /><div class="nodecontent" style="color:#111111;">SSL终止</div><div class="content" id="N10299"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_490371472FM" /><div class="nodecontent" style="color:#111111;">HTTPS请求进入负载均衡后，转化为http调用</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1263087891FM" /><div class="nodecontent" style="color:#111111;">VLAN</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1528141577FM" /><div class="nodecontent" style="color:#111111;">AWS弹性负载均衡：ELB</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N102B8&quot;)" id="imgN102B8" /><a id="FMID_1190604391FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">扩展数据库</div><div class="content" id="N102B8"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_596166102FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">服务的可用性与数据的持久性</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N102D7&quot;)" id="imgN102D7" /><a id="FMID_258690862FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">扩展读取</div><div class="content" id="N102D7"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_998733175FM" /><div class="nodecontent" style="color:#111111;">制度副本</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_950060967FM" /><div class="nodecontent" style="color:#111111;">缓存系统</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N102F1&quot;)" id="imgN102F1" /><a id="FMID_519330353FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">扩展写操作</div><div class="content" id="N102F1"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N102FC&quot;)" id="imgN102FC" /><a id="FMID_313354977FM" /><div class="nodecontent" style="color:#111111;">分片</div><div class="content" id="N102FC"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_560691158FM" /><div class="nodecontent" style="color:#111111;">复杂性来源与查询处理（跨分片）</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1383352561FM" /><div class="nodecontent" style="color:#111111;">MongoDB自动分片</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1050311991FM" /><div class="nodecontent" style="color:#111111;">MongoDB采用map/reduce处理跨片查询并放到缓存（异步）</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_692402198FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">CQRS</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10327&quot;)" id="imgN10327" /><a id="FMID_915411751FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">缓存</div><div class="content" id="N10327"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10336&quot;)" id="imgN10336" /><a id="FMID_1690348305FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">客户端、代理和服务端缓存</div><div class="content" id="N10336"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_110100477FM" /><div class="nodecontent" style="color:#111111;">CDN</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_650173935FM" /><div class="nodecontent" style="color:#111111;">Redis Memcached</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_452474630FM" /><div class="nodecontent" style="color:#111111;">Squid、Varnish</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10357&quot;)" id="imgN10357" /><a id="FMID_431553305FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">HTTP缓存</div><div class="content" id="N10357"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_203525848FM" /><div class="nodecontent" style="color:#111111;">cache-control</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1336397981FM" /><div class="nodecontent" style="color:#111111;">Expires head</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10370&quot;)" id="imgN10370" /><a id="FMID_1236589293FM" /><div class="nodecontent" style="color:#111111;">Etag</div><div class="content" id="N10370"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1963769882FM" /><div class="nodecontent" style="color:#111111;">服务端返回资源会带Etag</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1983973150FM" /><div class="nodecontent" style="color:#111111;">客户端发请求将获得的Etag放到If-None-Match head</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_43658027FM" /><div class="nodecontent" style="color:#111111;">如果资源没有变化，返回304(未修改)</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1038E&quot;)" id="imgN1038E" /><a id="FMID_146899807FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">写缓存</div><div class="content" id="N1038E"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1606046124FM" /><div class="nodecontent" style="color:#111111;">write-behind</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_666189497FM" /><div class="nodecontent" style="color:#111111;">厚些是缓存：先写入缓存，一定条件后再写入磁盘或数据库</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1548468706FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">缓存中毒</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1637315236FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">缓存系统尽量简单</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N103C1&quot;)" id="imgN103C1" /><a id="FMID_616524115FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">CAP定理</div><div class="content" id="N103C1"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N103D0&quot;)" id="imgN103D0" /><a id="FMID_1028209216FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">描述</div><div class="content" id="N103D0"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_892972960FM" /><div class="nodecontent" style="color:#111111;">一致性 可用性 分区容忍性只能保证2个</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N103E2&quot;)" id="imgN103E2" /><a id="FMID_1904443590FM" /><div class="nodecontent" style="color:#111111;">一致性</div><div class="content" id="N103E2"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_880678957FM" /><div class="nodecontent" style="color:#111111;">访问多个节点是能得到一致的结果</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N103F1&quot;)" id="imgN103F1" /><a id="FMID_952192474FM" /><div class="nodecontent" style="color:#111111;">可用性</div><div class="content" id="N103F1"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1429549852FM" /><div class="nodecontent" style="color:#111111;">每个请求都能得到响应</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10400&quot;)" id="imgN10400" /><a id="FMID_607441556FM" /><div class="nodecontent" style="color:#111111;">分区容忍性</div><div class="content" id="N10400"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1029562067FM" /><div class="nodecontent" style="color:#111111;">某些节点故障，集群整体还可以提供服务</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1529952503FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">牺牲一致性</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_338395224FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">牺牲可用性</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10428&quot;)" id="imgN10428" /><a id="FMID_1391448498FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">牺牲分区容忍性</div><div class="content" id="N10428"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10433&quot;)" id="imgN10433" /><a id="FMID_970062743FM" /><div class="nodecontent" style="color:#111111;">CA</div><div class="content" id="N10433"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_850025255FM" /><div class="nodecontent" style="color:#111111;">分布式系统中不存在</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1530721058FM" /><div class="nodecontent" style="color:#111111;">一般认为大部分打击服务器为CA</div></div></div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1044B&quot;)" id="imgN1044B" /><a id="FMID_324559223FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">服务发现</div><div class="content" id="N1044B"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1045A&quot;)" id="imgN1045A" /><a id="FMID_1848938609FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">DNS</div><div class="content" id="N1045A"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1824652505FM" /><div class="nodecontent" style="color:#111111;">不同环境中域名指向不同机器</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_821295754FM" /><div class="nodecontent" style="color:#111111;">DNS指向负载均衡</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_920687652FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Zookeeper</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10480&quot;)" id="imgN10480" /><a id="FMID_602170885FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Consul</div><div class="content" id="N10480"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1236144781FM" /><div class="nodecontent" style="color:#111111;">go</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_540249396FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Eureka</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1498317704FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">自己构建</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N104AC&quot;)" id="imgN104AC" /><a id="FMID_1131678229FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">文档服务</div><div class="content" id="N104AC"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_302887606FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">Swagger</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N104C7&quot;)" id="imgN104C7" /><a id="FMID_858151547FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">HAL与HAL浏览器</div><div class="content" id="N104C7"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_618763779FM" /><div class="nodecontent" style="color:#111111;">超媒体</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_291457137FM" /><div class="nodecontent" style="color:#111111;">超媒体作为应用程序状态引擎</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_817405597FM" /><div class="nodecontent" style="color:#111111;">资源+相关链接</div></div></div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1056F&quot;)" id="imgN1056F" /><a id="FMID_1892449628FM" /><div class="nodecontent" style="color:#0033ff;font-size:150%;">1微服务</div><div class="content" id="N1056F"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1057F&quot;)" id="imgN1057F" /><a id="FMID_1473636057FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">什么是微服务</div><div class="content" id="N1057F"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_894765740FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">专注做一件事</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1059A&quot;)" id="imgN1059A" /><a id="FMID_91183795FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">自治性</div><div class="content" id="N1059A"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_535045090FM" /><div class="nodecontent" style="color:#111111;">一个服务就是一个单独的实体</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_858895900FM" /><div class="nodecontent" style="color:#111111;">服务间彼此独立修改</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_873223536FM" /><div class="nodecontent" style="color:#111111;">暴露API，服务间通过API通信</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><img src="微服务设计.html_files/icons/idea.png" alt="idea" /> <a id="FMID_1453473322FM" /><div class="nodecontent" style="color:#111111;">黄金法则：你是否能够修改一个服务并对其进行部署，而不影响其他任何服务</div></div></div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N105C8&quot;)" id="imgN105C8" /><a id="FMID_72331200FM" /><div class="nodecontent" style="color:#0033ff;font-size:150%;">3如何构建服务</div><div class="content" id="N105C8"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N105D8&quot;)" id="imgN105D8" /><a id="FMID_1569440324FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">好服务标准</div><div class="content" id="N105D8"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N105E7&quot;)" id="imgN105E7" /><a id="FMID_156349309FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">松耦合</div><div class="content" id="N105E7"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_347757684FM" /><div class="nodecontent" style="color:#111111;">服务可以独立构建 修改 部署而不需要修改其他系统</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N105FA&quot;)" id="imgN105FA" /><a id="FMID_1216589565FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">高内聚</div><div class="content" id="N105FA"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_835804608FM" /><div class="nodecontent" style="color:#111111;">相关的行为聚集到一起</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1060E&quot;)" id="imgN1060E" /><img src="微服务设计.html_files/icons/idea.png" alt="idea" /> <a id="FMID_1878036442FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">限界上下文：一个显示边界限定的特定职责from《领域驱动设计》Eric Evans</div><div class="content" id="N1060E"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10620&quot;)" id="imgN10620" /><a id="FMID_1243768850FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">分为两部分</div><div class="content" id="N10620"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_900824240FM" /><div class="nodecontent" style="color:#111111;">不需要与外界通信</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_752488689FM" /><div class="nodecontent" style="color:#111111;">需要与外界通信</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_269308874FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">共享的隐藏模型，共享特定的模型</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10646&quot;)" id="imgN10646" /><a id="FMID_372753787FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">模块与服务</div><div class="content" id="N10646"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1828135843FM" /><div class="nodecontent" style="color:#111111;">服务边界和限界上下文保持一致</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10659&quot;)" id="imgN10659" /><a id="FMID_1858839795FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">过早划分</div><div class="content" id="N10659"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1564747068FM" /><div class="nodecontent" style="color:#111111;">将已有代码库划分为微服务，要比从头开始构建微服务简单的多，避免过早划分</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_910616949FM" /><div class="nodecontent" style="color:#111111;">划分原则</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10673&quot;)" id="imgN10673" /><a id="FMID_1165493287FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">业务功能</div><div class="content" id="N10673"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_105982159FM" /><div class="nodecontent" style="color:#111111;">考虑组织内限界上下文时，不应该从共享数据的角度考虑，应该从这些上下文提供的功能来考虑</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10686&quot;)" id="imgN10686" /><a id="FMID_1264608823FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">逐步划分上下文</div><div class="content" id="N10686"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_508836504FM" /><div class="nodecontent" style="color:#111111;">根据企业内部组织结构进行划分上下文，因为组织结构和软件架构会互相影响</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_87721432FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">技术边界</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N106AB&quot;)" id="imgN106AB" /><img src="微服务设计.html_files/icons/messagebox_warning.png" alt="messagebox_warning" /> <a id="FMID_290558596FM" /><div class="nodecontent" style="color:#0033ff;font-size:150%;">4集成(最重要)</div><div class="content" id="N106AB"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N106BE&quot;)" id="imgN106BE" /><a id="FMID_1764153705FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">理想的集成技术</div><div class="content" id="N106BE"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N106CD&quot;)" id="imgN106CD" /><a id="FMID_382906131FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">避免破坏性修改</div><div class="content" id="N106CD"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_235829864FM" /><div class="nodecontent" style="color:#111111;">如某服务响应中添加一个字段，消费放不应该受到影响</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_19183245FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">保证API的技术无关性</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1463649350FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">使服务易于消费方使用</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1109393911FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">隐藏内部实现细节</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10705&quot;)" id="imgN10705" /><a id="FMID_1572145473FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">创建用户接口</div><div class="content" id="N10705"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_714184998FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">eq:创建用户，看起来想CRUD操作，实质上还包括给用户法welcom邮件、添加积分等一系列业务流程</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10721&quot;)" id="imgN10721" /><a id="FMID_1052833653FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">同步或异步</div><div class="content" id="N10721"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10730&quot;)" id="imgN10730" /><a id="FMID_1197799778FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">同步</div><div class="content" id="N10730"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1770788742FM" /><div class="nodecontent" style="color:#111111;">发起远程服务调用后，调用方阻塞自己，等待整个操作的完成后返回</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1405653834FM" /><div class="nodecontent" style="color:#111111;">请求响应模型</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1074A&quot;)" id="imgN1074A" /><a id="FMID_353072770FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">异步</div><div class="content" id="N1074A"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1898192941FM" /><div class="nodecontent" style="color:#111111;">调用方不需要等待操作完成，直接返回，甚至不关心操作是否完成</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1075C&quot;)" id="imgN1075C" /><a id="FMID_711672128FM" /><div class="nodecontent" style="color:#111111;">基于事件模型</div><div class="content" id="N1075C"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1321666248FM" /><div class="nodecontent" style="color:#111111;">发布/订阅</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_362475123FM" /><div class="nodecontent" style="color:#111111;">难点：处理跨多个服务的事务</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1365734860FM" /><div class="nodecontent" style="color:#111111;">异步回调</div></div></div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1077B&quot;)" id="imgN1077B" /><a id="FMID_1386917032FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">编排和协同(跨服务业务流程)</div><div class="content" id="N1077B"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1078A&quot;)" id="imgN1078A" /><a id="FMID_123606195FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">编排</div><div class="content" id="N1078A"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_380013021FM" /><div class="nodecontent" style="color:#111111;">同步调用一组服务，等待各个服务的返回结果</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1079C&quot;)" id="imgN1079C" /><a id="FMID_987315472FM" /><div class="nodecontent" style="color:#111111;">优点</div><div class="content" id="N1079C"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_87498266FM" /><div class="nodecontent" style="color:#111111;">知道业务流程中每一步跨服务调用结果</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N107AB&quot;)" id="imgN107AB" /><a id="FMID_1416150158FM" /><div class="nodecontent" style="color:#111111;">缺点</div><div class="content" id="N107AB"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_698501638FM" /><div class="nodecontent" style="color:#111111;">容易承担太多的调用，太耗时，导致调用方的不稳定性</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N107BB&quot;)" id="imgN107BB" /><a id="FMID_112049540FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">协同</div><div class="content" id="N107BB"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1811002371FM" /><div class="nodecontent" style="color:#111111;">发布事件，有事件监听者进行处理，属异步调用</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1545810576FM" /><div class="nodecontent" style="color:#111111;">降低服务之间的耦合度，带来的额外工作业务流程跨服务的监控，不过可通过消费方处理完成后，回调服务方告知处理结果。</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N107D6&quot;)" id="imgN107D6" /><a id="FMID_89567144FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">集成方式1：共享数据库</div><div class="content" id="N107D6"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N107E5&quot;)" id="imgN107E5" /><a id="FMID_659444033FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">数据库集成</div><div class="content" id="N107E5"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_201688009FM" /><div class="nodecontent" style="color:#111111;">其他服务直接访问相同的数据库</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N107F7&quot;)" id="imgN107F7" /><a id="FMID_121712056FM" /><div class="nodecontent" style="color:#111111;">缺点</div><div class="content" id="N107F7"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N107FE&quot;)" id="imgN107FE" /><a id="FMID_572611465FM" /><div class="nodecontent" style="color:#111111;">外部系统能查看内部实现细节</div><div class="content" id="N107FE"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_762977970FM" /><div class="nodecontent" style="color:#111111;">如果服务方修改了表结构，消费方将无法工作</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1080D&quot;)" id="imgN1080D" /><a id="FMID_94995826FM" /><div class="nodecontent" style="color:#111111;">消费放与特定技术绑定到一起</div><div class="content" id="N1080D"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_7463796FM" /><div class="nodecontent" style="color:#111111;">违反技术无关性</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1895345723FM" /><div class="nodecontent" style="color:#111111;">想替换服务底层数据库，则消费放也需要全部重写</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10823&quot;)" id="imgN10823" /><a id="FMID_843881871FM" /><div class="nodecontent" style="color:#111111;">同种逻辑重复开发，难维护</div><div class="content" id="N10823"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_233169696FM" /><div class="nodecontent" style="color:#111111;">服务方和消费方相似逻辑需要分别负责维护，修改一种逻辑，类似逻辑也需要修改</div></div></div></div></div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10835&quot;)" id="imgN10835" /><a id="FMID_721899401FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">集成方式2：RPC</div><div class="content" id="N10835"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10844&quot;)" id="imgN10844" /><a id="FMID_277826322FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">RPC种类</div><div class="content" id="N10844"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1084F&quot;)" id="imgN1084F" /><a id="FMID_1169404066FM" /><div class="nodecontent" style="color:#111111;">依赖接口</div><div class="content" id="N1084F"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1646890588FM" /><div class="nodecontent" style="color:#111111;">SOAP</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_925780832FM" /><div class="nodecontent" style="color:#111111;">Thrift</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1063345676FM" /><div class="nodecontent" style="color:#111111;">Protocol Buffers</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1086C&quot;)" id="imgN1086C" /><a id="FMID_1949496983FM" /><div class="nodecontent" style="color:#111111;">不依赖接口</div><div class="content" id="N1086C"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10873&quot;)" id="imgN10873" /><a id="FMID_100733170FM" /><div class="nodecontent" style="color:#111111;">Java RMI</div><div class="content" id="N10873"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1843159238FM" /><div class="nodecontent" style="color:#111111;">要求有相同技术栈：java</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_584338922FM" /><div class="nodecontent" style="color:#111111;">等</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1088B&quot;)" id="imgN1088B" /><a id="FMID_769652915FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">问题</div><div class="content" id="N1088B"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10896&quot;)" id="imgN10896" /><a id="FMID_730421157FM" /><div class="nodecontent" style="color:#111111;">技术耦合</div><div class="content" id="N10896"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_373058067FM" /><div class="nodecontent" style="color:#111111;">RMI要求都使用java</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1388381152FM" /><div class="nodecontent" style="color:#111111;">网络不可靠导致本地调用和远程调用事实上存在差异</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N108AB&quot;)" id="imgN108AB" /><a id="FMID_1746441632FM" /><div class="nodecontent" style="color:#111111;">脆弱性</div><div class="content" id="N108AB"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_512616213FM" /><div class="nodecontent" style="color:#111111;">序列化机制的导致服务端修改之后客户端也必须跟着修改，否则传输到客户端的二进制无法被反序列化</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_10069059FM" /><div class="nodecontent" style="color:#111111;">使用二进制桩生成的RPC都存在此问题</div></div></div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N108C3&quot;)" id="imgN108C3" /><a id="FMID_419515230FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">注意事项</div><div class="content" id="N108C3"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1220814594FM" /><div class="nodecontent" style="color:#111111;">不要对远程调用过度封装，导致网络因素完全被隐藏</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_779407768FM" /><div class="nodecontent" style="color:#111111;">在客户端不要隐藏我们正在进行远程调用这个事实</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_930988065FM" /><div class="nodecontent" style="color:#111111;">确保服务端升级不需要强制客户端跟着升级</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_697397351FM" /><div class="nodecontent" style="color:#111111;">谨慎使用客户端库</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N108EC&quot;)" id="imgN108EC" /><a id="FMID_1981953573FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">集成方式3：REST</div><div class="content" id="N108EC"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N108FB&quot;)" id="imgN108FB" /><a id="FMID_1115121251FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">简介</div><div class="content" id="N108FB"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1525098433FM" /><div class="nodecontent" style="color:#111111;">REST作为RPC的替代方案</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_724045153FM" /><div class="nodecontent" style="color:#111111;">资源是核心概念，资源对外显示方式和内部表示方式不存在耦合</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1422397594FM" /><div class="nodecontent" style="color:#111111;"><a href="https://blog.csdn.net/dm_vincent/article/details/51341037">Richardson成熟度模型</a> <a href="https://blog.csdn.net/dm_vincent/article/details/51341037"><img src="微服务设计.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N1091D&quot;)" id="imgN1091D" /><a id="FMID_1093933550FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">REST与HTML</div><div class="content" id="N1091D"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_233499078FM" /><div class="nodecontent" style="color:#111111;">REST没有指定底层使用什么协议，常用HTTP</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_209453139FM" /><div class="nodecontent" style="color:#111111;">HTTP丰富的生态可以为REST所用，如认证机制，Varnish缓存代理</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10937&quot;)" id="imgN10937" /><a id="FMID_810568414FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">HATEOAS</div><div class="content" id="N10937"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1992189486FM" /><div class="nodecontent" style="color:#111111;">Hypermedia as the Engine Of Application State超媒体作为应用程序状态的引擎</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10949&quot;)" id="imgN10949" /><a id="FMID_198955146FM" /><div class="nodecontent" style="color:#111111;">超媒体</div><div class="content" id="N10949"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1566803268FM" /><div class="nodecontent" style="color:#111111;">资源+指向其他资源链接</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1993139596FM" /><div class="nodecontent" style="color:#111111;"><a href="http://stateless.co/hal_specification.html">HAL-Hypertext Application Language</a> <a href="http://stateless.co/hal_specification.html"><img src="微服务设计.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1817297833FM" /><div class="nodecontent" style="color:#111111;">接口中除资源外，还包含相关资源链接</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_236201508FM" /><div class="nodecontent" style="color:#111111;">客户端需要理解API语义</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_935581962FM" /><div class="nodecontent" style="color:#111111;">导致通信次数增多</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10976&quot;)" id="imgN10976" /><a id="FMID_91764472FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">数据格式</div><div class="content" id="N10976"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10981&quot;)" id="imgN10981" /><a id="FMID_498038880FM" /><div class="nodecontent" style="color:#111111;">XML</div><div class="content" id="N10981"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_255830293FM" /><div class="nodecontent" style="color:#111111;">数据冗余</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1152498739FM" /><div class="nodecontent" style="color:#111111;">XPATH支持查询，工具丰富</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10997&quot;)" id="imgN10997" /><a id="FMID_98044986FM" /><div class="nodecontent" style="color:#111111;">Json</div><div class="content" id="N10997"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_670045056FM" /><div class="nodecontent" style="color:#111111;">轻量级</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_879063808FM" /><div class="nodecontent" style="color:#111111;">JsonPath,工具少</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_408069782FM" /><div class="nodecontent" style="color:#111111;">其他</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N109B5&quot;)" id="imgN109B5" /><a id="FMID_1408787810FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">基于HTTP的REST的缺点</div><div class="content" id="N109B5"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1119900870FM" /><div class="nodecontent" style="color:#111111;">易用性：无法生成客户端代码</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_227498036FM" /><div class="nodecontent" style="color:#111111;">一些web框架对HTTP的各种请求类型支持不够完整</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_406260780FM" /><div class="nodecontent" style="color:#111111;">适用于大流量的通信场景，但不适合低延迟通信</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N109D7&quot;)" id="imgN109D7" /><a id="FMID_520067484FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">基于事件的异步协作方式</div><div class="content" id="N109D7"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N109E6&quot;)" id="imgN109E6" /><a id="FMID_169581227FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">技术选择</div><div class="content" id="N109E6"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_673918576FM" /><div class="nodecontent" style="color:#111111;">微服务事件发布机制</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1717298504FM" /><div class="nodecontent" style="color:#111111;">消息者接收事件机制</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_942485990FM" /><div class="nodecontent" style="color:#111111;">RabbitMQ</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10A07&quot;)" id="imgN10A07" /><a id="FMID_1692605366FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">异构架构复杂性</div><div class="content" id="N10A07"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1958502872FM" /><div class="nodecontent" style="color:#111111;">灾难性故障转移</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1525264059FM" /><div class="nodecontent" style="color:#111111;">设置作业最大重试次数</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10A20&quot;)" id="imgN10A20" /><a id="FMID_814883306FM" /><div class="nodecontent" style="color:#111111;">《企业集成模式》</div><div class="content" id="N10A20"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_704627329FM" /><div class="nodecontent" style="color:#111111;">介绍不同编程模式</div></div></div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10A31&quot;)" id="imgN10A31" /><a id="FMID_203796803FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">服务即状态机</div><div class="content" id="N10A31"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_556271084FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">服务根据限界上下文进行划分</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1140474123FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">服务控制与之相关的对象的生命周期(状态)</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1842664252FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">服务内聚确保状态一致性</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10A65&quot;)" id="imgN10A65" /><a id="FMID_790348341FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">响应式扩展(Reactive extension)</div><div class="content" id="N10A65"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_766868204FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">组合异步的、基于事件的应用程序</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1069763222FM" /><div class="nodecontent" style="color:#990000;font-size:117%;"><a href="http://reactivex.io/intro.html">reactivex</a> <a href="http://reactivex.io/intro.html"><img src="微服务设计.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1438866256FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">RxJava</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10A9A&quot;)" id="imgN10A9A" /><a id="FMID_1435304809FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">按引用访问</div><div class="content" id="N10A9A"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1438438242FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">微服务应该包含核心领域实体全生命周期的相关操作</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1371110658FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">按引用访问(延迟获取)有利于保证数据的有效性</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10AC2&quot;)" id="imgN10AC2" /><a id="FMID_640525561FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">版本控制</div><div class="content" id="N10AC2"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10AD1&quot;)" id="imgN10AD1" /><a id="FMID_1529053111FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">尽可能延迟破坏性修改</div><div class="content" id="N10AD1"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10ADC&quot;)" id="imgN10ADC" /><a id="FMID_25569423FM" /><div class="nodecontent" style="color:#111111;">服务保持"宽进严出"</div><div class="content" id="N10ADC"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1295296650FM" /><div class="nodecontent" style="color:#111111;">对自己发送的东西要严格</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10AEA&quot;)" id="imgN10AEA" /><a id="FMID_408822322FM" /><div class="nodecontent" style="color:#111111;">对接受的东西要宽容</div><div class="content" id="N10AEA"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1828442872FM" /><div class="nodecontent" style="color:#111111;">容错性读取器(Tolerant Reader)</div></div></div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1540095582FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">尽早发现破坏性修改</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10B07&quot;)" id="imgN10B07" /><a id="FMID_887869515FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">语义化版本管理</div><div class="content" id="N10B07"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1001915422FM" /><div class="nodecontent" style="color:#111111;">Major.Minor.Patch</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_214663202FM" /><div class="nodecontent" style="color:#111111;">Major包含向后不兼容的修改</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_960718912FM" /><div class="nodecontent" style="color:#111111;">Minor增加新功能，向后兼容</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1984323240FM" /><div class="nodecontent" style="color:#111111;">Patch缺陷修复</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10B2F&quot;)" id="imgN10B2F" /><a id="FMID_917230115FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">不同接口版本共存</div><div class="content" id="N10B2F"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_224070030FM" /><div class="nodecontent" style="color:#111111;">在同一个服务上，新版本和旧版本共存</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_248511262FM" /><div class="nodecontent" style="color:#111111;">扩展/收缩模式</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_927811615FM" /><div class="nodecontent" style="color:#111111;">url使用版本号:/v1/c</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_793740803FM" /><div class="nodecontent" style="color:#111111;">不建议长时间同时使用多个版本</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10B58&quot;)" id="imgN10B58" /><a id="FMID_1974296079FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">用户界面</div><div class="content" id="N10B58"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_50663991FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">适用web mobile 穿戴设备多种场景</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10B73&quot;)" id="imgN10B73" /><a id="FMID_46847340FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">API组合</div><div class="content" id="N10B73"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_728863848FM" /><div class="nodecontent" style="color:#111111;">界面直接与API通信</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_410620147FM" /><div class="nodecontent" style="color:#111111;">API Gateway</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1053398521FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">UI片段组合</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_316629856FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">为前端服务的后端(BFF)</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10BA6&quot;)" id="imgN10BA6" /><a id="FMID_1085560553FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">绞杀者模式</div><div class="content" id="N10BA6"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1573803861FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">拦截调用，由开发者决定路由到新代码还是遗留代码</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10BC3&quot;)" id="imgN10BC3" /><a id="FMID_1405743179FM" /><div class="nodecontent" style="color:#0033ff;font-size:150%;">5分解单块系统</div><div class="content" id="N10BC3"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10BD3&quot;)" id="imgN10BD3" /><a id="FMID_1156122492FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">关键寻找接缝：限界上下文就是好的接缝</div><div class="content" id="N10BD3"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1895452621FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">接缝：系统中可以抽取相对独立的一部分代码，这部分代码进行修改不会影响系统其他部分，是划分服务边界的依据</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10BEF&quot;)" id="imgN10BEF" /><a id="FMID_1809706716FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">分解单块系统原因</div><div class="content" id="N10BEF"><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10BFE&quot;)" id="imgN10BFE" /><a id="FMID_1120460823FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">改变的速度</div><div class="content" id="N10BFE"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_336035540FM" /><div class="nodecontent" style="color:#111111;">当某一服务需要大量修改时候，将该服务中的接缝抽出来，会加速整体修改的速度</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10C11&quot;)" id="imgN10C11" /><a id="FMID_606838669FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">团队结构</div><div class="content" id="N10C11"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1469155618FM" /><div class="nodecontent" style="color:#111111;">团队结构改变，需要重新根据现状进行分解，方便代码开发维护</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10C24&quot;)" id="imgN10C24" /><a id="FMID_1209384731FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">安全</div><div class="content" id="N10C24"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1818452238FM" /><div class="nodecontent" style="color:#111111;">将某一部分从系统中分离出来，进行单独监控和静态数据保护，提高安全性</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10C37&quot;)" id="imgN10C37" /><a id="FMID_172904986FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">技术</div><div class="content" id="N10C37"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1784644125FM" /><div class="nodecontent" style="color:#111111;">不同技术栈，单独将这部分分离出，屏蔽技术相关性</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10C4B&quot;)" id="imgN10C4B" /><a id="FMID_939858509FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">数据库表重构</div><div class="content" id="N10C4B"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1361985929FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">SchemaSpy可视化DB表间关系</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10C66&quot;)" id="imgN10C66" /><a id="FMID_999636206FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">外键约束通过业务逻辑实现</div><div class="content" id="N10C66"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1098912888FM" /><div class="nodecontent" style="color:#111111;">需要实现跨服务一致性检查</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1538926313FM" /><div class="nodecontent" style="color:#111111;">周期性触发清理数据任务</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10C80&quot;)" id="imgN10C80" /><a id="FMID_1858633882FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">共享静态数据.如国家代码</div><div class="content" id="N10C80"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_719407320FM" /><div class="nodecontent" style="color:#111111;">每个服务复制一份数据:有数据一致性问题</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_13556981FM" /><div class="nodecontent" style="color:#111111;">将数据放到代码中或配置文件中:数据一致性问题</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_548290072FM" /><div class="nodecontent" style="color:#111111;">放到一个单独的服务中</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10CA1&quot;)" id="imgN10CA1" /><a id="FMID_1372286407FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">共享动态数据</div><div class="content" id="N10CA1"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_67359372FM" /><div class="nodecontent" style="color:#111111;">识别出新的限界上下文，通过API通信</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10CB4&quot;)" id="imgN10CB4" /><a id="FMID_1322002750FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">共享表</div><div class="content" id="N10CB4"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1355056410FM" /><div class="nodecontent" style="color:#111111;">拆分表</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_378659108FM" /><div class="nodecontent" style="color:#111111;">拆分字段</div></div></div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10CCF&quot;)" id="imgN10CCF" /><a id="FMID_1145546976FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">数据库重构</div><div class="content" id="N10CCF"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1127584031FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">代码分包</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1614168113FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">数据库表结构分离</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1652789196FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">事务边界识别</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10D02&quot;)" id="imgN10D02" /><a id="FMID_930147082FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">跨服务边界事务</div><div class="content" id="N10D02"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_220162307FM" /><div class="nodecontent" style="color:#111111;font-size:100%;">多次重试，保证最终一致性</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10D19&quot;)" id="imgN10D19" /><a id="FMID_762043467FM" /><div class="nodecontent" style="color:#111111;font-size:100%;">跨多个服务边界事务失败解决</div><div class="content" id="N10D19"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_777977257FM" /><div class="nodecontent" style="color:#111111;">补偿事务，抵消之前操作</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1970923369FM" /><div class="nodecontent" style="color:#111111;">补偿事务失败，进行重试补偿事务/使用后台任务清除不一致状态</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><img src="微服务设计.html_files/icons/idea.png" alt="idea" /> <a id="FMID_1811214136FM" /><div class="nodecontent" style="color:#111111;font-size:100%;">分布式事务</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_236012780FM" /><div class="nodecontent" style="color:#111111;">从业务逻辑中寻求解决办法</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1614226847FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">应用分解</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10D57&quot;)" id="imgN10D57" /><a id="FMID_1157408310FM" /><div class="nodecontent" style="color:#00b439;font-size:133%;">报表</div><div class="content" id="N10D57"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_741972205FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">报表数据库，主数据库周期性同步到报表数据库</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_756256489FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">服务调用获取数据</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_668325913FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">API返回批量数据</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10D8A&quot;)" id="imgN10D8A" /><a id="FMID_583496393FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">异步发消息，轮询资源创建结果</div><div class="content" id="N10D8A"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1542520974FM" /><div class="nodecontent" style="color:#111111;">如消费者发出消息，服务者（满数据）创建结果数据到一个指定的位置（快数据），消费者轮询创建结果，成功后去相应位置取数据----数据库导出数据到csv，将csv文件位置返回给调用者</div></div></div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_349316462FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">推送数据到报告系统</div></div><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1555710577FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">中间程序，访问服务，获得数据存到报告数据库</div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10DB5&quot;)" id="imgN10DB5" /><a id="FMID_1705660671FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">事件数据导出</div><div class="content" id="N10DB5"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_65320065FM" /><div class="nodecontent" style="color:#111111;">客户增删改时发送事件，报告数据库接受并处理事件，实现数据的存储</div></div></div></div><div class="node"><img src="微服务设计.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N10DC8&quot;)" id="imgN10DC8" /><a id="FMID_1175518887FM" /><div class="nodecontent" style="color:#990000;font-size:117%;">aegisthus</div><div class="content" id="N10DC8"><div class="node"><img src="微服务设计.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1898872876FM" /><div class="nodecontent" style="color:#111111;">Netflix的解决办法，开源产品</div></div></div></div></div></div></div></div></div></div>
</body></html>